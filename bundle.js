var ip=function(n){return function(t){for(var r=n.length,a=t.length,e=new Array(r*a),o=0,i=0;i<r;i++)for(var f=n[i],c=0;c<a;c++)e[o++]=f(t[c]);return e}};var Za={compose:function(n){return function(t){return function(r){return n(t(r))}}}},ua=function(n){return n.compose};var X=function(n){return n.identity},z={identity:function(n){return n},Semigroupoid0:function(){return Za}};var Ut=!0;var fl=function(n){return function(t){return function(r){return function(a){return n(t(r))(t(a))}}}},zn=function(n){return function(t){return function(r){return n(r)(t)}}},N=function(n){return function(t){return n}};var cl=function(n){return function(t){return t(n)}};var fp=function(n){return function(t){for(var r=t.length,a=new Array(r),e=0;e<r;e++)a[e]=n(t[e]);return a}};var w=function(){function n(){}return n.value=new n,n}();var d=function(n){return n.map},le=function(n){return function(t){return function(r){return d(n)(r)(t)}}},A=function(n){return d(n)(N(void 0))},Hr=function(n){return function(t){return function(r){return d(n)(N(r))(t)}}};var Yr={map:ua(Za)},ft={map:fp};var Bu={apply:ip,Functor0:function(){return ft}},hn=function(n){return n.apply};var en=function(n){return function(t){return function(r){return hn(n)(d(n.Functor0())(N(X(z)))(t))(r)}}},Br=function(n){return function(t){return function(r){return function(a){return hn(n)(d(n.Functor0())(t)(r))(a)}}}};var _=function(n){return n.pure},$o=function(n){return function(t){return function(r){if(!t)return r;if(t)return _(n)(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}},_e=function(n){return function(t){return function(r){if(t)return r;if(!t)return _(n)(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,r.constructor.name])}}},qu=function(n){return function(t){return function(r){return hn(n.Apply0())(_(n)(t))(r)}}};var no={pure:function(n){return[n]},Apply0:function(){return Bu}};var lp=function(n){return function(t){return n+t}},_p=function(n){return function(t){return n.length===0?t:t.length===0?n:n.concat(t)}};var Xt=function(n){return n.reflectSymbol};var qr=function(n){return function(t){return t[n]}},ia=function(n){return function(t){return function(r){var a={};for(var e in r)({}).hasOwnProperty.call(r,e)&&(a[e]=r[e]);return a[n]=t,a}}};var pp={append:function(n){return function(t){return void 0}}},fa={append:lp};var gt={append:_p};var M=function(n){return n.append};var Y=function(n){return n.alt};var Rb=String.fromCharCode(65535),Ob=String.fromCharCode(0),Wb=Number.POSITIVE_INFINITY,Ub=Number.NEGATIVE_INFINITY;var mp=function(n){return function(t){return function(r){return function(a){return function(e){return a<e?n:a===e?t:r}}}}};var dp=mp;var vp=mp;var _l=function(n){return function(t){return n===t}},Dp=_l,yp=_l;var bp=_l;var Ee={eq:bp};var Ju={eq:yp};var gp={eq:Dp};var bn=function(n){return n.eq};var ko=function(n){return function(t){return function(r){return bn(gp)(bn(n)(t)(r))(!1)}}};var pn=function(){function n(){}return n.value=new n,n}(),Tn=function(){function n(){}return n.value=new n,n}(),gn=function(){function n(){}return n.value=new n,n}();var Tp=function(n){return function(t){return n-t|0}};var Cp=function(n){return function(t){return n+t|0}},hp=function(n){return function(t){return n*t|0}},Ep=function(n){return function(t){return n+t}},Fp=function(n){return function(t){return n*t}};var zu={add:Ep,zero:0,mul:Fp,one:1},Zr={add:Cp,zero:0,mul:hp,one:1};var Fe=function(n){return n.mul};var nr=function(n){return n.add};var sl={sub:Tp,Semiring0:function(){return Zr}};var ar=function(){return{compare:vp(pn.value)(gn.value)(Tn.value),Eq0:function(){return Ee}}}();var Lr=function(){return{compare:dp(pn.value)(gn.value)(Tn.value),Eq0:function(){return Ju}}}();var Dn=function(n){return n.compare};var Nr=function(n){return n.top};var qe={top:2147483647,bottom:-2147483648,Ord0:function(){return Lr}};var Me=function(n){return n.bottom};var xp=function(n){return n.toString()},wp=function(n){var t=n.toString();return isNaN(t+".0")?t:t+".0"};var Ap=function(n){var t=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(r,a){switch(r){case'"':case"\\":return"\\"+r;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var e=a+1,o=e<t&&n[e]>="0"&&n[e]<="9"?"\\&":"";return"\\"+r.charCodeAt(0).toString(10)+o})+'"'};var Sp=function(n){return function(t){return[n].concat(t)}},of=function(n){return function(t){return t.join(n)}};var _r={show:Ap},uf={showRecordFields:function(n){return function(t){return[]}}},Ip=function(n){return n.showRecordFields},ff=function(){return function(){return function(n){return{show:function(t){var r=Ip(n)(w.value)(t);return r.length===0?"{}":of(" ")(["{",of(", ")(r),"}"])}}}}};var ju={show:wp},me={show:xp};var $=function(n){return n.show};var to=function(n){return function(t){return function(r){return{showRecordFields:function(a){return function(e){var o=Ip(t)(w.value)(e),i=Xt(n)(w.value),f=qr(i)(e);return Sp(of(": ")([i,$(r)(f)]))(o)}}}}}};var s=function(){function n(){}return n.value=new n,n}(),m=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Gu=function(n){return{show:function(t){if(t instanceof m)return"(Just "+($(n)(t.value0)+")");if(t instanceof s)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}};var Pp=function(n){return function(t){return function(r){if(r instanceof s)return n(void 0);if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 250, column 1 - line 250, column 62): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},_n=function(n){return function(t){return function(r){if(r instanceof s)return n;if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},ro=_n(!0)(N(!1)),Wo=_n(!1)(N(!0));var ct={map:function(n){return function(t){return t instanceof m?new m(n(t.value0)):s.value}}};var $p=function(n){return Pp(n)(X(z))},sr=function(n){return _n(n)(X(z))},hr=function(){return function(n){if(n instanceof m)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var eo=function(n){return{eq:function(t){return function(r){return t instanceof s&&r instanceof s?!0:t instanceof m&&r instanceof m?bn(n)(t.value0)(r.value0):!1}}}};var ao={apply:function(n){return function(t){if(n instanceof m)return d(ct)(n.value0)(t);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,t.constructor.name])}},Functor0:function(){return ct}},pr={bind:function(n){return function(t){if(n instanceof m)return t(n.value0);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,t.constructor.name])}},Apply0:function(){return ao}};var Nt=function(){return{pure:m.create,Apply0:function(){return ao}}}();var ag={alt:function(n){return function(t){return n instanceof s?t:n}},Functor0:function(){return ct}},kp=function(){return{empty:s.value,Alt0:function(){return ag}}}();var xe=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ia=function(){function n(){}return n.value=new n,n}();var Uo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Xu=function(){function n(){}return n.value=new n,n}(),lf=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),_f=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Wn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Rp={show:function(n){if(n instanceof xe)return"LocalScope["+(n.value0+"]");if(n instanceof Ia)return"GlobalScope";throw new Error("Failed pattern match at Bolson.Core (line 29, column 1 - line 31, column 30): "+[n.constructor.name])}},sf={eq:function(n){return function(t){return n instanceof xe&&t instanceof xe?n.value0===t.value0:n instanceof Ia&&t instanceof Ia}}};var E=function(n){return n};var Op=E;var Wp=function(n){return function(t){return function(){return n(t())}}},Up=function(n){return function(){return n}},Hp=function(n){return function(t){return function(){return t(n())()}}};function Bt(n){return function(){return{value:n}}}var Tt=function(n){return function(){return n.value}},Bp=function(n){return function(t){return function(){var r=n(t.value);return t.value=r.state,r.value}}},mr=function(n){return function(t){return function(){return t.value=n}}};var qp=function(n){return function(t){for(var r=[],a=0,e=n.length;a<e;a++)Array.prototype.push.apply(r,t(n[a]));return r}};var $n=function(n){return n.discard};var oo={bind:qp,Apply0:function(){return Bu}},b=function(n){return n.bind},we=function(n){return zn(b(n))},Qu=function(n){return function(t){return function(r){return function(a){return we(n)(t)(r(a))}}}},pf=function(n){return function(t){return function(r){return function(a){return b(n)(t(a))(r)}}}};var kn={discard:function(n){return b(n)}};var Je=function(n){return function(t){return b(n)(t)(X(z))}};var de=function(n){return function(t){return function(r){return b(n.Bind1())(t)(function(a){return b(n.Bind1())(r)(function(e){return _(n.Applicative0())(a(e))})})}}};var V=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),q=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var mf=function(n){return _n(new V(n))(q.create)};var Ho={map:function(n){return function(t){if(t instanceof V)return new V(t.value0);if(t instanceof q)return new q(n(t.value0));throw new Error("Failed pattern match at Data.Either (line 31, column 1 - line 31, column 52): "+[t.constructor.name])}}};var ve=function(n){return function(t){return function(r){if(r instanceof V)return n(r.value0);if(r instanceof q)return t(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},df=function(){return ve(N(s.value))(m.create)}();var De=function(n){return n};var La={map:function(n){return function(t){return n(t)}}};var Jp={apply:function(n){return function(t){return n(t)}},Functor0:function(){return La}},fg={bind:function(n){return function(t){return t(n)}},Apply0:function(){return Jp}},Bo={pure:De,Apply0:function(){return Jp}},Dt={Applicative0:function(){return Bo},Bind1:function(){return fg}};var zp=function(n){return Math.min(Math.abs(n),2147483647)},Vp=function(n){return function(t){return t===0?0:t>0?Math.floor(n/t):-Math.floor(n/-t)}},jp=function(n){return function(t){if(t===0)return 0;var r=Math.abs(t);return(n%r+r)%r}};var Gp={Ring0:function(){return sl}};var Yu=function(n){return n.mod};var vf={degree:zp,div:Vp,mod:jp,CommutativeRing0:function(){return Gp}};var Kr={mempty:void 0,Semigroup0:function(){return pp}},Ae={mempty:"",Semigroup0:function(){return fa}};var uo={mempty:[],Semigroup0:function(){return gt}};var En=function(n){return n.mempty};var pl=function(n){return function(){return n}},Qp=function(n){return function(t){return function(){return t(n())()}}};var Zu=function(n){return function(t){return function(){for(var r=0,a=n.length;r<a;r++)t(n[r])()}}};var Yp=function(n,t,r){var a=0,e;return function(o){if(a===2)return e;if(a===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return a=1,e=r(),a=2,e}},io={Applicative0:function(){return S},Bind1:function(){return Jr}},Jr={bind:Qp,Apply0:function(){return ml(0)}},S={pure:pl,Apply0:function(){return ml(0)}},Zp=Yp("functorEffect","Effect",function(){return{map:qu(S)}}),ml=Yp("applyEffect","Effect",function(){return{apply:de(io),Functor0:function(){return Zp(0)}}}),U=Zp(20),Zn=ml(23),Kp=function(n){return{append:Br(Zn)(M(n))}},ne=function(n){return{mempty:pl(En(n)),Semigroup0:function(){return Kp(n.Semigroup0())}}};var nm=function(n){return function(){return{value:n}}};var qo=function(n){return function(){return n.value}},tm=function(n){return function(t){return function(){var r=n(t.value);return t.value=r.state,r.value}}};var Ku=nm,dg=tm,rm=function(n){return dg(function(t){var r=n(t);return{state:r,value:r}})};var Tg=function(n,t,r){var a=0,e;return function(o){if(a===2)return e;if(a===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return a=1,e=r(),a=2,e}},Cg=Bp,re=function(n){return Cg(function(t){var r=n(t);return{state:r,value:r}})},mn={map:Wp},Na={Applicative0:function(){return jn},Bind1:function(){return Jo}},Jo={bind:Hp,Apply0:function(){return Dl(0)}},jn={pure:Up,Apply0:function(){return Dl(0)}},Dl=Tg("applyST","Control.Monad.ST.Internal",function(){return{apply:de(Na),Functor0:function(){return mn}}}),am=Dl(46);var Sr={liftST:X(z),Monad0:function(){return Na}},fn={liftST:Op,Monad0:function(){return io}},C=function(n){return n.liftST};var zo=function(n){return{always:N(En(n)),Monoid0:function(){return n}}},Vo=function(n){return{always:X(z),Monoid0:function(){return n}}},ri=function(n){return n.always};var hg=function(n){return{append:function(t){return function(r){return ua(n)(t)(r)}}}};var fo=function(n){return{mempty:X(n),Semigroup0:function(){return hg(n.Semigroupoid0())}}};var Eg=function(n){return function(t){if(n<1)return[];var r=new Array(n);return r.fill(t)}},Fg=function(n){return function(t){for(var r=[],a=0,e=0;e<n;e++)r[a++]=t;return r}},yl=typeof Array.prototype.fill=="function"?Eg:Fg,Mg=function(){function n(e,o){this.head=e,this.tail=o}var t={};function r(e){return function(o){return new n(e,o)}}function a(e){for(var o=[],i=0,f=e;f!==t;)o[i++]=f.head,f=f.tail;return o}return function(e){return function(o){return a(e(r)(t)(o))}}}(),la=function(n){return n.length},om=function(n){return function(t){return function(r){return r.length===0?n({}):t(r[0])(r.slice(1))}}},um=function(n){return function(t){return function(r){return function(a){return a<0||a>=r.length?t:n(r[a])}}}},im=function(n){return function(t){return function(r){return function(a){for(var e=0;e<a.length;e++){var o=r(a[e]);if(t(o))return o}return n}}}},fm=function(n){return function(t){return function(r){return function(a){for(var e=0,o=a.length;e<o;e++)if(r(a[e]))return n(e);return t}}}};var cm=function(n){return function(t){return function(r){return function(a){return function(e){if(r<0||r>e.length)return t;var o=e.slice();return o.splice(r,0,a),n(o)}}}}},lm=function(n){return function(t){return function(r){return function(a){if(r<0||r>=a.length)return t;var e=a.slice();return e.splice(r,1),n(e)}}}};var ei=function(n){return function(t){return t.filter(n)}},gf=function(n){return function(t){for(var r=[],a=[],e=0;e<t.length;e++){var o=t[e];n(o)?r.push(o):a.push(o)}return{yes:r,no:a}}};var xg=function(){function n(t,r,a,e,o,i){var f,c,l,p,v,D,u;for(f=o+(i-o>>1),f-o>1&&n(t,r,e,a,o,f),i-f>1&&n(t,r,e,a,f,i),c=o,l=f,p=o;c<f&&l<i;)v=e[c],D=e[l],u=r(t(v)(D)),u>0?(a[p++]=D,++l):(a[p++]=v,++c);for(;c<f;)a[p++]=e[c++];for(;l<i;)a[p++]=e[l++]}return function(t){return function(r){return function(a){var e;return a.length<2?a:(e=a.slice(0),n(t,r,e,a.slice(0),0,a.length),e)}}}}(),co=function(n){return function(t){return function(r){return r.slice(n,t)}}};var _m=function(n){return function(t){return n[t]}};var Ag=function(n,t,r){var a=0,e;return function(o){if(a===2)return e;if(a===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return a=1,e=r(),a=2,e}};var sm={defer:function(n){return function(t){return n(void 0)(t)}}},jo=function(n){return n.defer},bl=function(n){return function(t){var r=Ag("go","Control.Lazy",function(){return jo(n)(function(e){return t(r(25))})}),a=r(25);return a}};function ee(){return[]}var gl=function(n){return function(t){return function(){return t.push.apply(t,n)}}};var Ve=function(n){return function(){return n}};function pm(n){return function(){return n.slice()}}var Tl=pm,Cl=pm,Sg=function(){function n(t,r,a,e,o,i){var f,c,l,p,v,D,u;for(f=o+(i-o>>1),f-o>1&&n(t,r,e,a,o,f),i-f>1&&n(t,r,e,a,f,i),c=o,l=f,p=o;c<f&&l<i;)v=e[c],D=e[l],u=r(t(v)(D)),u>0?(a[p++]=D,++l):(a[p++]=v,++c);for(;c<f;)a[p++]=e[c++];for(;l<i;)a[p++]=e[l++]}return function(t){return function(r){return function(a){return function(){return a.length<2||n(t,r,a,a.slice(0),0,a.length),a}}}}}();var Dm=function(n){return function(t){return function(){var a=Cl(t)();return n(a)(),Ve(a)()}}};var Pr=function(n){return gl([n])};var ym=function(n){return function(t){return n&&t}},bm=function(n){return function(t){return n||t}},gm=function(n){return!n};var $r=function(n){return n.not};var ai=function(n){return n.ff};var Xo=function(n){return n.disj},ur={ff:!1,tt:!0,implies:function(n){return function(t){return Xo(ur)($r(ur)(n))(t)}},conj:ym,disj:bm,not:gm};var Pg=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();var $g=function(n){return function(){var r=Tt(n.value1)();return re(function(a){return a+1|0})(n.value1)(),n.value0(r)}};var Tf=function(n){return d(mn)(Pg.create(n))(Bt(0))},Cf=function(n){return function(t){return function(){for(var a=Bt(!1)();d(mn)($r(ur))(Tt(a))();)(function(){var o=$g(n)();if(o instanceof m)return t(o.value0)();if(o instanceof s)return A(mn)(mr(!0)(a))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[o.constructor.name])})();return{}}}};var Cm=function(n){return function(t){return function(r){for(var a=t,e=r.length,o=e-1;o>=0;o--)a=n(r[o])(a);return a}}},hm=function(n){return function(t){return function(r){for(var a=t,e=r.length,o=0;o<e;o++)a=n(a)(r[o]);return a}}};var Cn=function(n){return n.empty};var h=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),hf=function(n){return function(t){return n(t.value0)(t.value1)}};var Pt=function(n){return n.value1};var lo={map:function(n){return function(t){return new h(t.value0,n(t.value1))}}};var be=function(n){return n.value0};var ii=function(n){return n};var Gg=function(n){return{append:function(t){return function(r){return Xo(n)(t)(r)}}}};var Ml=function(n){return{mempty:ai(n),Semigroup0:function(){return Gg(n)}}};var je=function(){return E};var Gn=je;var Mf=function(){return function(){return function(){return function(){return function(n){return je()}}}}};var tt=function(n){return n.foldr};var Le=function(n){return function(t){return tt(n)(Y(t.Alt0()))(Cn(t))}},$t=function(n){return function(t){return function(r){return tt(n)(function(){var a=Y(t.Alt0());return function(e){return a(r(e))}}())(Cn(t))}}},zr=function(n){return function(t){return function(r){return tt(t)(function(){var a=en(n.Apply0());return function(e){return a(r(e))}}())(_(n)(void 0))}}},xn=function(n){return function(t){return zn(zr(n)(t))}},xf=function(n){return function(t){return zr(n)(t)(X(z))}},lt=function(n){return n.foldl};var Ne=function(n){return function(t){return function(r){return function(a){var e=function(o){return function(i){return o.init?{init:!1,acc:i}:{init:!1,acc:M(t.Semigroup0())(o.acc)(M(t.Semigroup0())(r)(i))}}};return lt(n)(e)({init:!0,acc:En(t)})(a).acc}}}};var yn={foldr:function(n){return function(t){return function(r){if(r instanceof s)return t;if(r instanceof m)return n(r.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldl:function(n){return function(t){return function(r){if(r instanceof s)return t;if(r instanceof m)return n(t)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldMap:function(n){return function(t){return function(r){if(r instanceof s)return En(n);if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var wm=function(n){return function(t){return function(r){return tt(n)(function(a){return function(e){return M(t.Semigroup0())(r(a))(e)}})(En(t))}}},k={foldr:Cm,foldl:hm,foldMap:function(n){return wm(k)(n)}};var tr=function(n){return n.foldMap};var Pe=function(n){return function(t){return tr(n)(t)(X(z))}};var $a=function(n){return function(t){return Mf()()()()(ii)(tr(n)(Ml(t)))}};var Am=function(){function n(e){return[e]}function t(e){return function(o){return[e,o]}}function r(e){return function(o){return function(i){return[e,o,i]}}}function a(e){return function(o){return e.concat(o)}}return function(e){return function(o){return function(i){return function(f){return function(c){function l(p,v){switch(v-p){case 0:return i([]);case 1:return o(n)(f(c[p]));case 2:return e(o(t)(f(c[p])))(f(c[p+1]));case 3:return e(e(o(r)(f(c[p])))(f(c[p+1])))(f(c[p+2]));default:var D=p+Math.floor((v-p)/4)*2;return e(o(a)(l(p,D)))(l(D,v))}}return l(0,c.length)}}}}}}();var Ct=function(n){return n.traverse};var nu={traverse:function(n){return function(t){return function(r){if(r instanceof s)return _(n)(s.value);if(r instanceof m)return d(n.Apply0().Functor0())(m.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(n){return function(t){if(t instanceof s)return _(n)(s.value);if(t instanceof m)return d(n.Apply0().Functor0())(m.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return ct},Foldable1:function(){return yn}};var Wm=function(n){return function(t){return Ct(n)(t)(X(z))}},dr={traverse:function(n){return Am(hn(n.Apply0()))(d(n.Apply0().Functor0()))(_(n))},sequence:function(n){return Wm(dr)(n)},Functor0:function(){return ft},Foldable1:function(){return k}};var Um=function(n){return function(t){return function(r){return function(a){return function(e){return function(o){for(var i=[],f=o;;){var c=e(f);if(n(c))return i;var l=t(c);i.push(r(l)),f=a(l)}}}}}}};var Hm=function(n){return function(t){return function(r){return function(a){return function(e){return function(o){for(var i=[],f=o;;){var c=e(f);i.push(r(c));var l=a(c);if(n(l))return i;f=t(l)}}}}}}};var kl={unfoldr1:Hm(ro)(hr())(be)(Pt)};var _a=function(n){return n.unfoldr};var sa={unfoldr:Um(ro)(hr())(be)(Pt),Unfoldable10:function(){return kl}};var zm=function(){return _m},mo=function(){return om(N(s.value))(function(n){return function(t){return new m({head:n,tail:t})}})}(),Ul=function(n){return function(t){var r=la(t),a=function(e){if(e<r)return new m(new h(zm()(t)(e),e+1|0));if(Ut)return s.value;throw new Error("Failed pattern match at Data.Array (line 156, column 3 - line 158, column 26): "+[e.constructor.name])};return _a(n)(a)(0)}},Nf=function(n){return function(t){var r=n<1;return r?[]:co(0)(n)(t)}};var Pf=function(n){return function(t){return Dm(Pr(t))(n)()}},Vm=function(n){return[n]};var Hl=function(){return cm(m.create)(s.value)}();var tu=function(){return um(m.create)(s.value)}();var $f=function(n){return function(t){var r=function(e){var o=!1,i;function f(c){var l=tu(t)(c);if(l instanceof m){var p=n(l.value0);if(p){e=c+1|0;return}return o=!0,new m(c)}if(l instanceof s)return o=!0,s.value;throw new Error("Failed pattern match at Data.Array (line 964, column 5 - line 966, column 25): "+[l.constructor.name])}for(;!o;)i=f(e);return i},a=r(0);if(a instanceof m&&a.value0===0)return{init:[],rest:t};if(a instanceof m)return{init:co(0)(a.value0)(t),rest:co(a.value0)(la(t))(t)};if(a instanceof s)return{init:t,rest:[]};throw new Error("Failed pattern match at Data.Array (line 951, column 3 - line 957, column 30): "+[a.constructor.name])}};var Bl=function(n){return tu(n)(0)};var ql=function(){return im(s.value)(Wo)}();var jm=function(){return fm(m.create)(s.value)}();var ka=function(n){return function(t){var r=n<1;return r?t:co(n)(la(t))(t)}};var Gm=function(){return lm(m.create)(s.value)}(),kf=function(n){return function(t){return function(r){return r.length===0?[]:_n(r)(function(a){return hr()(Gm(a)(r))})(jm(n(t))(r))}}};var Jl=function(n){return kf(bn(n))};var _i=function(n){return function(t){return M(gt)([n])(t)}};var JT=zn(b(oo)),zl=function(n){return JT(function(){var t=_n([])(Vm);return function(r){return t(n(r))}}())};var Xm=function(n){return function(t){for(var r=t.length,a=Array(r),e=0;e<r;e++)a[e]=n(e)(t[e]);return a}};var pa=function(n){return n.mapWithIndex};var ru={mapWithIndex:Xm,Functor0:function(){return ft}};var Xe=function(n){return n.foldrWithIndex},Vl=function(n){return function(t){return function(r){return Xe(t)(function(a){var e=en(n.Apply0()),o=r(a);return function(i){return e(o(i))}})(_(n)(void 0))}}};var Qe=function(n){return n.foldlWithIndex};var ma=function(n){return n.foldMapWithIndex};var Ye=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();var Rf=function(n){return function(t){return new Ye(t,Cn(n))}};var xt=function(){function n(){}return n.value=new n,n}(),sn=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),Of=function(n){return n},aC=function(n){return new sn(n.value0,n.value1)};var oC=function(n){var t=function(r){return function(a){var e=r,o=!1,i;function f(c,l){if(l instanceof sn&&l.value1 instanceof sn&&l.value1.value1 instanceof sn){e=new sn(l,c),a=l.value1.value1.value1;return}var p=function(D){return D instanceof sn&&D.value1 instanceof sn&&D.value1.value1 instanceof xt?new sn(n(D.value0),new sn(n(D.value1.value0),xt.value)):D instanceof sn&&D.value1 instanceof xt?new sn(n(D.value0),xt.value):xt.value},v=function(D){return function(u){var y=D,Rn=!1,Mt;function wr(Kn,he){if(Kn instanceof sn&&Kn.value0 instanceof sn&&Kn.value0.value1 instanceof sn&&Kn.value0.value1.value1 instanceof sn){y=Kn.value1,u=new sn(n(Kn.value0.value0),new sn(n(Kn.value0.value1.value0),new sn(n(Kn.value0.value1.value1.value0),he)));return}return Rn=!0,he}for(;!Rn;)Mt=wr(y,u);return Mt}};return o=!0,v(c)(p(l))}for(;!o;)i=f(e,a);return i}};return t(xt.value)},jl={map:oC};var da={foldr:function(n){return function(t){var r=function(){var e=function(o){return function(i){var f=o,c=!1,l;function p(v,D){if(D instanceof xt)return c=!0,v;if(D instanceof sn){f=new sn(D.value0,v),i=D.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[v.constructor.name,D.constructor.name])}for(;!c;)l=p(f,i);return l}};return e(xt.value)}(),a=lt(da)(zn(n))(t);return function(e){return a(r(e))}}},foldl:function(n){var t=function(r){return function(a){var e=r,o=!1,i;function f(c,l){if(l instanceof xt)return o=!0,c;if(l instanceof sn){e=n(c)(l.value0),a=l.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[l.constructor.name])}for(;!o;)i=f(e,a);return i}};return t},foldMap:function(n){return function(t){return lt(da)(function(r){var a=M(n.Semigroup0())(r);return function(e){return a(t(e))}})(En(n))}}};var pi={append:function(n){return function(t){return tt(da)(sn.create)(t)(n)}}};var Wf={append:function(n){return function(t){return new Ye(n.value0,M(pi)(n.value1)(aC(t)))}}};var Zm={alt:M(pi),Functor0:function(){return jl}},Gl=function(){return{empty:xt.value,Alt0:function(){return Zm}}}();var ad=function(n){return n()};var od=function(n){throw new Error(n)};var ud=function(){return od};var EC=ad,Te=function(n){return EC(function(){return ud()(n)})};var j=function(){function n(){}return n.value=new n,n}(),cn=function(){function n(t,r,a,e){this.value0=t,this.value1=r,this.value2=a,this.value3=e}return n.create=function(t){return function(r){return function(a){return function(e){return new n(t,r,a,e)}}}},n}(),Ln=function(){function n(t,r,a,e,o,i,f){this.value0=t,this.value1=r,this.value2=a,this.value3=e,this.value4=o,this.value5=i,this.value6=f}return n.create=function(t){return function(r){return function(a){return function(e){return function(o){return function(i){return function(f){return new n(t,r,a,e,o,i,f)}}}}}}},n}(),Ua=function(){function n(t,r,a){this.value0=t,this.value1=r,this.value2=a}return n.create=function(t){return function(r){return function(a){return new n(t,r,a)}}},n}(),va=function(){function n(t,r,a){this.value0=t,this.value1=r,this.value2=a}return n.create=function(t){return function(r){return function(a){return new n(t,r,a)}}},n}(),Ha=function(){function n(t,r,a,e,o,i){this.value0=t,this.value1=r,this.value2=a,this.value3=e,this.value4=o,this.value5=i}return n.create=function(t){return function(r){return function(a){return function(e){return function(o){return function(i){return new n(t,r,a,e,o,i)}}}}}},n}(),Ze=function(){function n(t,r,a,e,o,i){this.value0=t,this.value1=r,this.value2=a,this.value3=e,this.value4=o,this.value5=i}return n.create=function(t){return function(r){return function(a){return function(e){return function(o){return function(i){return new n(t,r,a,e,o,i)}}}}}},n}(),Ba=function(){function n(t,r,a,e,o,i){this.value0=t,this.value1=r,this.value2=a,this.value3=e,this.value4=o,this.value5=i}return n.create=function(t){return function(r){return function(a){return function(e){return function(o){return function(i){return new n(t,r,a,e,o,i)}}}}}},n}(),Hf=function(){function n(t,r,a,e){this.value0=t,this.value1=r,this.value2=a,this.value3=e}return n.create=function(t){return function(r){return function(a){return function(e){return new n(t,r,a,e)}}}},n}();var qf=function(n){return function(t){return new cn(j.value,n,t,j.value)}};var di=function(n){return function(t){var r=Dn(n),a=function(e){var o=!1,i;function f(c){if(c instanceof j)return o=!0,s.value;if(c instanceof cn){var l=r(t)(c.value1);if(l instanceof gn)return o=!0,new m(c.value2);if(l instanceof pn){e=c.value0;return}e=c.value3;return}if(c instanceof Ln){var p=r(t)(c.value1);if(p instanceof gn)return o=!0,new m(c.value2);var v=r(t)(c.value4);if(v instanceof gn)return o=!0,new m(c.value5);if(p instanceof pn){e=c.value0;return}if(v instanceof Tn){e=c.value6;return}e=c.value3;return}throw new Error("Failed pattern match at Data.Map.Internal (line 241, column 5 - line 241, column 22): "+[c.constructor.name])}for(;!o;)i=f(e);return i};return a}};var Jt=function(n){return function(t){return function(r){var a=n,e=t,o=!1,i;function f(c,l,p){if(l instanceof xt)return o=!0,p;if(l instanceof sn){if(l.value0 instanceof Ua){a=c,e=l.value1,r=new cn(p,l.value0.value0,l.value0.value1,l.value0.value2);return}if(l.value0 instanceof va){a=c,e=l.value1,r=new cn(l.value0.value0,l.value0.value1,l.value0.value2,p);return}if(l.value0 instanceof Ha){a=c,e=l.value1,r=new Ln(p,l.value0.value0,l.value0.value1,l.value0.value2,l.value0.value3,l.value0.value4,l.value0.value5);return}if(l.value0 instanceof Ze){a=c,e=l.value1,r=new Ln(l.value0.value0,l.value0.value1,l.value0.value2,p,l.value0.value3,l.value0.value4,l.value0.value5);return}if(l.value0 instanceof Ba){a=c,e=l.value1,r=new Ln(l.value0.value0,l.value0.value1,l.value0.value2,l.value0.value3,l.value0.value4,l.value0.value5,p);return}throw new Error("Failed pattern match at Data.Map.Internal (line 462, column 3 - line 467, column 88): "+[l.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 1 - line 459, column 80): "+[l.constructor.name,p.constructor.name])}for(;!o;)i=f(a,e,r);return i}}},vi=function(n){return function(t){return function(r){var a=function(i){return function(f){var c=i,l=!1,p;function v(D,u){if(D instanceof xt)return l=!0,new cn(u.value0,u.value1,u.value2,u.value3);if(D instanceof sn){if(D.value0 instanceof Ua)return l=!0,Jt(n)(D.value1)(new Ln(u.value0,u.value1,u.value2,u.value3,D.value0.value0,D.value0.value1,D.value0.value2));if(D.value0 instanceof va)return l=!0,Jt(n)(D.value1)(new Ln(D.value0.value0,D.value0.value1,D.value0.value2,u.value0,u.value1,u.value2,u.value3));if(D.value0 instanceof Ha){c=D.value1,f=new Hf(new cn(u.value0,u.value1,u.value2,u.value3),D.value0.value0,D.value0.value1,new cn(D.value0.value2,D.value0.value3,D.value0.value4,D.value0.value5));return}if(D.value0 instanceof Ze){c=D.value1,f=new Hf(new cn(D.value0.value0,D.value0.value1,D.value0.value2,u.value0),u.value1,u.value2,new cn(u.value3,D.value0.value3,D.value0.value4,D.value0.value5));return}if(D.value0 instanceof Ba){c=D.value1,f=new Hf(new cn(D.value0.value0,D.value0.value1,D.value0.value2,D.value0.value3),D.value0.value4,D.value0.value5,new cn(u.value0,u.value1,u.value2,u.value3));return}throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 5 - line 503, column 108): "+[D.value0.constructor.name,u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 3 - line 495, column 56): "+[D.constructor.name,u.constructor.name])}for(;!l;)p=v(c,f);return p}},e=Dn(n),o=function(i){return function(f){var c=i,l=!1,p;function v(D,u){if(u instanceof j)return l=!0,a(D)(new Hf(j.value,t,r,j.value));if(u instanceof cn){var y=e(t)(u.value1);if(y instanceof gn)return l=!0,Jt(n)(D)(new cn(u.value0,t,r,u.value3));if(y instanceof pn){c=new sn(new Ua(u.value1,u.value2,u.value3),D),f=u.value0;return}c=new sn(new va(u.value0,u.value1,u.value2),D),f=u.value3;return}if(u instanceof Ln){var Rn=e(t)(u.value1);if(Rn instanceof gn)return l=!0,Jt(n)(D)(new Ln(u.value0,t,r,u.value3,u.value4,u.value5,u.value6));var Mt=e(t)(u.value4);if(Mt instanceof gn)return l=!0,Jt(n)(D)(new Ln(u.value0,u.value1,u.value2,u.value3,t,r,u.value6));if(Rn instanceof pn){c=new sn(new Ha(u.value1,u.value2,u.value3,u.value4,u.value5,u.value6),D),f=u.value0;return}if(Rn instanceof Tn&&Mt instanceof pn){c=new sn(new Ze(u.value0,u.value1,u.value2,u.value4,u.value5,u.value6),D),f=u.value3;return}c=new sn(new Ba(u.value0,u.value1,u.value2,u.value3,u.value4,u.value5),D),f=u.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 478, column 3 - line 478, column 55): "+[D.constructor.name,u.constructor.name])}for(;!l;)p=v(c,f);return p}};return o(xt.value)}}},cd=function(n){return function(t){var r=function(f){return function(c){var l=f,p=!1,v;function D(u,y){if(u instanceof xt)return p=!0,y;if(u instanceof sn){if(u.value0 instanceof Ua&&u.value0.value2 instanceof j&&y instanceof j)return p=!0,Jt(n)(u.value1)(new cn(j.value,u.value0.value0,u.value0.value1,j.value));if(u.value0 instanceof va&&u.value0.value0 instanceof j&&y instanceof j)return p=!0,Jt(n)(u.value1)(new cn(j.value,u.value0.value1,u.value0.value2,j.value));if(u.value0 instanceof Ua&&u.value0.value2 instanceof cn){l=u.value1,c=new Ln(y,u.value0.value0,u.value0.value1,u.value0.value2.value0,u.value0.value2.value1,u.value0.value2.value2,u.value0.value2.value3);return}if(u.value0 instanceof va&&u.value0.value0 instanceof cn){l=u.value1,c=new Ln(u.value0.value0.value0,u.value0.value0.value1,u.value0.value0.value2,u.value0.value0.value3,u.value0.value1,u.value0.value2,y);return}return u.value0 instanceof Ua&&u.value0.value2 instanceof Ln?(p=!0,Jt(n)(u.value1)(new cn(new cn(y,u.value0.value0,u.value0.value1,u.value0.value2.value0),u.value0.value2.value1,u.value0.value2.value2,new cn(u.value0.value2.value3,u.value0.value2.value4,u.value0.value2.value5,u.value0.value2.value6)))):u.value0 instanceof va&&u.value0.value0 instanceof Ln?(p=!0,Jt(n)(u.value1)(new cn(new cn(u.value0.value0.value0,u.value0.value0.value1,u.value0.value0.value2,u.value0.value0.value3),u.value0.value0.value4,u.value0.value0.value5,new cn(u.value0.value0.value6,u.value0.value1,u.value0.value2,y)))):u.value0 instanceof Ha&&u.value0.value2 instanceof j&&u.value0.value5 instanceof j&&y instanceof j?(p=!0,Jt(n)(u.value1)(new Ln(j.value,u.value0.value0,u.value0.value1,j.value,u.value0.value3,u.value0.value4,j.value))):u.value0 instanceof Ze&&u.value0.value0 instanceof j&&u.value0.value5 instanceof j&&y instanceof j?(p=!0,Jt(n)(u.value1)(new Ln(j.value,u.value0.value1,u.value0.value2,j.value,u.value0.value3,u.value0.value4,j.value))):u.value0 instanceof Ba&&u.value0.value0 instanceof j&&u.value0.value3 instanceof j&&y instanceof j?(p=!0,Jt(n)(u.value1)(new Ln(j.value,u.value0.value1,u.value0.value2,j.value,u.value0.value4,u.value0.value5,j.value))):u.value0 instanceof Ha&&u.value0.value2 instanceof cn?(p=!0,Jt(n)(u.value1)(new cn(new Ln(y,u.value0.value0,u.value0.value1,u.value0.value2.value0,u.value0.value2.value1,u.value0.value2.value2,u.value0.value2.value3),u.value0.value3,u.value0.value4,u.value0.value5))):u.value0 instanceof Ze&&u.value0.value0 instanceof cn?(p=!0,Jt(n)(u.value1)(new cn(new Ln(u.value0.value0.value0,u.value0.value0.value1,u.value0.value0.value2,u.value0.value0.value3,u.value0.value1,u.value0.value2,y),u.value0.value3,u.value0.value4,u.value0.value5))):u.value0 instanceof Ze&&u.value0.value5 instanceof cn?(p=!0,Jt(n)(u.value1)(new cn(u.value0.value0,u.value0.value1,u.value0.value2,new Ln(y,u.value0.value3,u.value0.value4,u.value0.value5.value0,u.value0.value5.value1,u.value0.value5.value2,u.value0.value5.value3)))):u.value0 instanceof Ba&&u.value0.value3 instanceof cn?(p=!0,Jt(n)(u.value1)(new cn(u.value0.value0,u.value0.value1,u.value0.value2,new Ln(u.value0.value3.value0,u.value0.value3.value1,u.value0.value3.value2,u.value0.value3.value3,u.value0.value4,u.value0.value5,y)))):u.value0 instanceof Ha&&u.value0.value2 instanceof Ln?(p=!0,Jt(n)(u.value1)(new Ln(new cn(y,u.value0.value0,u.value0.value1,u.value0.value2.value0),u.value0.value2.value1,u.value0.value2.value2,new cn(u.value0.value2.value3,u.value0.value2.value4,u.value0.value2.value5,u.value0.value2.value6),u.value0.value3,u.value0.value4,u.value0.value5))):u.value0 instanceof Ze&&u.value0.value0 instanceof Ln?(p=!0,Jt(n)(u.value1)(new Ln(new cn(u.value0.value0.value0,u.value0.value0.value1,u.value0.value0.value2,u.value0.value0.value3),u.value0.value0.value4,u.value0.value0.value5,new cn(u.value0.value0.value6,u.value0.value1,u.value0.value2,y),u.value0.value3,u.value0.value4,u.value0.value5))):u.value0 instanceof Ze&&u.value0.value5 instanceof Ln?(p=!0,Jt(n)(u.value1)(new Ln(u.value0.value0,u.value0.value1,u.value0.value2,new cn(y,u.value0.value3,u.value0.value4,u.value0.value5.value0),u.value0.value5.value1,u.value0.value5.value2,new cn(u.value0.value5.value3,u.value0.value5.value4,u.value0.value5.value5,u.value0.value5.value6)))):u.value0 instanceof Ba&&u.value0.value3 instanceof Ln?(p=!0,Jt(n)(u.value1)(new Ln(u.value0.value0,u.value0.value1,u.value0.value2,new cn(u.value0.value3.value0,u.value0.value3.value1,u.value0.value3.value2,u.value0.value3.value3),u.value0.value3.value4,u.value0.value3.value5,new cn(u.value0.value3.value6,u.value0.value4,u.value0.value5,y)))):(p=!0,Te("The impossible happened in partial function `up`."))}throw new Error("Failed pattern match at Data.Map.Internal (line 552, column 5 - line 573, column 86): "+[u.constructor.name])}for(;!p;)v=D(l,c);return v}},a=function(f){return function(c){var l=f,p=!1,v;function D(u,y){if(y instanceof cn&&y.value0 instanceof j&&y.value3 instanceof j)return p=!0,r(u)(j.value);if(y instanceof cn){l=new sn(new va(y.value0,y.value1,y.value2),u),c=y.value3;return}if(y instanceof Ln&&y.value0 instanceof j&&y.value3 instanceof j&&y.value6 instanceof j)return p=!0,r(new sn(new va(j.value,y.value1,y.value2),u))(j.value);if(y instanceof Ln){l=new sn(new Ba(y.value0,y.value1,y.value2,y.value3,y.value4,y.value5),u),c=y.value6;return}return p=!0,Te("The impossible happened in partial function `removeMaxNode`.")}for(;!p;)v=D(l,c);return v}},e=function(f){var c=!1,l;function p(v){if(v instanceof cn&&v.value3 instanceof j)return c=!0,{key:v.value1,value:v.value2};if(v instanceof cn){f=v.value3;return}if(v instanceof Ln&&v.value6 instanceof j)return c=!0,{key:v.value4,value:v.value5};if(v instanceof Ln){f=v.value6;return}return c=!0,Te("The impossible happened in partial function `maxNode`.")}for(;!c;)l=p(f);return l},o=Dn(n),i=function(f){return function(c){var l=f,p=!1,v;function D(u,y){if(y instanceof j)return p=!0,s.value;if(y instanceof cn){var Rn=o(t)(y.value1);if(y.value3 instanceof j&&Rn instanceof gn)return p=!0,new m(new h(y.value2,r(u)(j.value)));if(Rn instanceof gn){var Mt=e(y.value0);return p=!0,new m(new h(y.value2,a(new sn(new Ua(Mt.key,Mt.value,y.value3),u))(y.value0)))}if(Rn instanceof pn){l=new sn(new Ua(y.value1,y.value2,y.value3),u),c=y.value0;return}l=new sn(new va(y.value0,y.value1,y.value2),u),c=y.value3;return}if(y instanceof Ln){var wr=function(){return y.value0 instanceof j&&y.value3 instanceof j&&y.value6 instanceof j}(),Rn=o(t)(y.value4),Kn=o(t)(y.value1);if(wr&&Kn instanceof gn)return p=!0,new m(new h(y.value2,Jt(n)(u)(new cn(j.value,y.value4,y.value5,j.value))));if(wr&&Rn instanceof gn)return p=!0,new m(new h(y.value5,Jt(n)(u)(new cn(j.value,y.value1,y.value2,j.value))));if(Kn instanceof gn){var Mt=e(y.value0);return p=!0,new m(new h(y.value2,a(new sn(new Ha(Mt.key,Mt.value,y.value3,y.value4,y.value5,y.value6),u))(y.value0)))}if(Rn instanceof gn){var Mt=e(y.value3);return p=!0,new m(new h(y.value5,a(new sn(new Ze(y.value0,y.value1,y.value2,Mt.key,Mt.value,y.value6),u))(y.value3)))}if(Kn instanceof pn){l=new sn(new Ha(y.value1,y.value2,y.value3,y.value4,y.value5,y.value6),u),c=y.value0;return}if(Kn instanceof Tn&&Rn instanceof pn){l=new sn(new Ze(y.value0,y.value1,y.value2,y.value4,y.value5,y.value6),u),c=y.value3;return}l=new sn(new Ba(y.value0,y.value1,y.value2,y.value3,y.value4,y.value5),u),c=y.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 16 - line 548, column 80): "+[y.constructor.name])}for(;!p;)v=D(l,c);return v}};return i(xt.value)}},Er={foldr:function(n){return function(t){return function(r){if(r instanceof j)return t;if(r instanceof cn)return tt(Er)(n)(n(r.value2)(tt(Er)(n)(t)(r.value3)))(r.value0);if(r instanceof Ln)return tt(Er)(n)(n(r.value2)(tt(Er)(n)(n(r.value5)(tt(Er)(n)(t)(r.value6)))(r.value3)))(r.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 133, column 17 - line 136, column 85): "+[r.constructor.name])}}},foldl:function(n){return function(t){return function(r){if(r instanceof j)return t;if(r instanceof cn)return lt(Er)(n)(n(lt(Er)(n)(t)(r.value0))(r.value2))(r.value3);if(r instanceof Ln)return lt(Er)(n)(n(lt(Er)(n)(n(lt(Er)(n)(t)(r.value0))(r.value2))(r.value3))(r.value5))(r.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 137, column 17 - line 140, column 85): "+[r.constructor.name])}}},foldMap:function(n){return function(t){return function(r){if(r instanceof j)return En(n);if(r instanceof cn)return M(n.Semigroup0())(tr(Er)(n)(t)(r.value0))(M(n.Semigroup0())(t(r.value2))(tr(Er)(n)(t)(r.value3)));if(r instanceof Ln)return M(n.Semigroup0())(tr(Er)(n)(t)(r.value0))(M(n.Semigroup0())(t(r.value2))(M(n.Semigroup0())(tr(Er)(n)(t)(r.value3))(M(n.Semigroup0())(t(r.value5))(tr(Er)(n)(t)(r.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 141, column 17 - line 144, column 93): "+[r.constructor.name])}}}},Fr={foldrWithIndex:function(n){return function(t){return function(r){if(r instanceof j)return t;if(r instanceof cn)return Xe(Fr)(n)(n(r.value1)(r.value2)(Xe(Fr)(n)(t)(r.value3)))(r.value0);if(r instanceof Ln)return Xe(Fr)(n)(n(r.value1)(r.value2)(Xe(Fr)(n)(n(r.value4)(r.value5)(Xe(Fr)(n)(t)(r.value6)))(r.value3)))(r.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 26 - line 150, column 120): "+[r.constructor.name])}}},foldlWithIndex:function(n){return function(t){return function(r){if(r instanceof j)return t;if(r instanceof cn)return Qe(Fr)(n)(n(r.value1)(Qe(Fr)(n)(t)(r.value0))(r.value2))(r.value3);if(r instanceof Ln)return Qe(Fr)(n)(n(r.value4)(Qe(Fr)(n)(n(r.value1)(Qe(Fr)(n)(t)(r.value0))(r.value2))(r.value3))(r.value5))(r.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 151, column 26 - line 154, column 120): "+[r.constructor.name])}}},foldMapWithIndex:function(n){return function(t){return function(r){if(r instanceof j)return En(n);if(r instanceof cn)return M(n.Semigroup0())(ma(Fr)(n)(t)(r.value0))(M(n.Semigroup0())(t(r.value1)(r.value2))(ma(Fr)(n)(t)(r.value3)));if(r instanceof Ln)return M(n.Semigroup0())(ma(Fr)(n)(t)(r.value0))(M(n.Semigroup0())(t(r.value1)(r.value2))(M(n.Semigroup0())(ma(Fr)(n)(t)(r.value3))(M(n.Semigroup0())(t(r.value4)(r.value5))(ma(Fr)(n)(t)(r.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 155, column 26 - line 158, column 128): "+[r.constructor.name])}}},Foldable0:function(){return Er}};var yo=function(){return j.value}();var Zl=function(n){return function(t){return function(r){return _n(r)(Pt)(cd(n)(t)(r))}}};var au=function(n){return function(t){return function(r){return function(a){var e=t(di(n)(r)(a));if(e instanceof s)return Zl(n)(r)(a);if(e instanceof m)return vi(n)(r)(e.value0)(a);throw new Error("Failed pattern match at Data.Map.Internal (line 596, column 15 - line 598, column 25): "+[e.constructor.name])}}}};var Kl=function(n){return function(t){return function(r){return function(a){var e=function(o){return function(i){return function(f){return au(n)(function(){var c=_n(f)(t(f));return function(l){return m.create(c(l))}}())(o)(i)}}};return Qe(Fr)(e)(a)(r)}}}};var _d={compact:function(n){return function(){var r=ee(),a=Tf(function(e){return tu(n)(e)})();return Cf(a)(function(){var e=A(mn);return function(o){return e(function(i){if(i instanceof s)return _(jn)(0);if(i instanceof m)return Pr(i.value0)(r);throw new Error("Failed pattern match at Data.Compactable (line 111, column 34 - line 113, column 35): "+[i.constructor.name])}(o))}}())(),Ve(r)()}()},separate:function(n){return function(){var r=ee(),a=ee(),e=Tf(function(o){return tu(n)(o)})();return Cf(e)(function(){var o=A(mn);return function(i){return o(function(f){if(f instanceof V)return Pr(f.value0)(r);if(f instanceof q)return Pr(f.value0)(a);throw new Error("Failed pattern match at Data.Compactable (line 122, column 34 - line 124, column 31): "+[f.constructor.name])}(i))}}())(),hn(am)(d(mn)(function(o){return function(i){return{left:o,right:i}}})(Ve(r)))(Ve(a))()}()}};var bo=function(n){return n.compact};var zf={partitionMap:function(n){var t=function(r){return function(a){var e=n(a);if(e instanceof V)return{left:M(gt)(r.left)([e.value0]),right:r.right};if(e instanceof q)return{right:M(gt)(r.right)([e.value0]),left:r.left};throw new Error("Failed pattern match at Data.Filterable (line 149, column 16 - line 151, column 50): "+[e.constructor.name])}};return lt(k)(t)({left:[],right:[]})},partition:gf,filterMap:zl,filter:ei,Compactable0:function(){return _d},Functor1:function(){return ft}};var Rr=function(n){return n.filterMap};var Di=function(n){return n.filter};var jr={dimap:function(n){return function(t){return function(r){return function(a){return t(r(n(a)))}}}}},sd=function(n){return n.dimap},oe=function(n){return function(t){return sd(n)(t)(X(z))}};var yi=function(n){return n.keepLatest},qa=function(n){return n.fold};var To=function(n){return function(t){return function(r){return function(a){return Rr(n.Filterable1())(Pt)(qa(n)(function(e){return function(o){return d(lo)(_(Nt))(t(e)(o.value0))}})(r)(new h(a,s.value)))}}}};var Gr=function(n){return n.bang};function n_(n){return function(t){return n===t}}var dd=n_;var ZC=function(n){return n};var er=function(n){return function(t){return n(t)}},KC=function(n){return function(t){return function(r){return function(a){return function(e){return b(n.Monad0().Bind1())(C(n)(Bt(s.value)))(function(o){return b(n.Monad0().Bind1())(r(function(i){return C(n)(A(mn)(mr(new m(i))(o)))}))(function(i){return b(n.Monad0().Bind1())(a(function(f){return b(n.Monad0().Bind1())(C(n)(Tt(o)))(zr(t)(yn)(function(c){return e(f(c))}))}))(function(f){return _(t)(en(t.Apply0())(i)(f))})})})}}}}},Mr=ZC;var nh=function(n){return function(t){return function(r){return b(n.Monad0().Bind1())(C(n)(Bt(s.value)))(function(a){return b(n.Monad0().Bind1())(t(function(e){return $n(kn)(n.Monad0().Bind1())(b(n.Monad0().Bind1())(C(n)(Tt(a)))(xf(n.Monad0().Applicative0())(yn)))(function(){return b(n.Monad0().Bind1())(er(e)(r))(function(o){return C(n)(A(mn)(mr(new m(o))(a)))})})}))(function(e){return _(n.Monad0().Applicative0())($n(kn)(n.Monad0().Bind1())(b(n.Monad0().Bind1())(C(n)(Tt(a)))(xf(n.Monad0().Applicative0())(yn)))(function(){return e}))})})}}},yt={map:function(n){return function(t){return function(r){return t(function(a){return r(n(a))})}}}};var th=function(n){return function(t){return function(r){return function(a){return function(e){return b(n.Monad0().Bind1())(C(n)(Bt(a)))(function(o){return r(function(i){return b(n.Monad0().Bind1())(C(n)(re(t(i))(o)))(e)})})}}}}},bi=function(n){return function(t){return function(r){return function(a){return r(function(e){var o=t(e);if(o instanceof m)return a(o.value0);if(o instanceof s)return _(n)(void 0);throw new Error("Failed pattern match at FRP.Event (line 131, column 13 - line 133, column 27): "+[o.constructor.name])})}}}},t_=function(n){return function(t){return bi(n)(function(r){var a=t(r);if(a)return new m(r);if(!a)return s.value;throw new Error("Failed pattern match at FRP.Event (line 89, column 13 - line 91, column 25): "+[a.constructor.name])})}};var r_=function(n){return function(t){return b(n.Monad0().Bind1())(C(n)(Bt([])))(function(r){return _(n.Monad0().Applicative0())({event:function(a){return b(t.Monad0().Bind1())(C(t)(re(function(e){return M(gt)(e)([a])})(r)))(function(){return _(t.Monad0().Applicative0())(b(t.Monad0().Bind1())(C(t)(re(kf(dd)(a))(r)))(function(){return _(t.Monad0().Applicative0())(void 0)}))})},push:function(a){return b(t.Monad0().Bind1())(C(t)(Tt(r)))(zr(t.Monad0().Applicative0())(k)(function(e){return e(a)}))}})})}},rh=function(n){return function(t){return function(r){return function(a){return b(t.Bind1())(r_(n)(n))(function(e){var o=r(e.event);return b(t.Bind1())(er(o.input)(e.push))(function(i){return b(t.Bind1())(er(o.output)(a))(function(f){return _(t.Applicative0())(en(t.Bind1().Apply0())(i)(f))})})})}}}};var vd=function(n){return function(t){return function(r){return Mr(function(a){return b(n.Monad0().Bind1())(r_(n)(n))(function(e){return $n(kn)(n.Monad0().Bind1())(a(r(e.event)))(function(){return er(t)(e.push)})})})}}},gi=function(n){return{compact:bi(n)(X(z)),separate:function(t){return{left:bi(n)(function(r){if(r instanceof V)return new m(r.value0);if(r instanceof q)return s.value;throw new Error("Failed pattern match at FRP.Event (line 72, column 13 - line 74, column 33): "+[r.constructor.name])})(t),right:bi(n)(function(r){if(r instanceof q)return new m(r.value0);if(r instanceof V)return s.value;throw new Error("Failed pattern match at FRP.Event (line 79, column 13 - line 81, column 32): "+[r.constructor.name])})(t)}}}},ke=function(n){return{filter:t_(n),filterMap:bi(n),partition:function(t){return function(r){return{yes:t_(n)(t)(r),no:t_(n)(function(){var a=$r(ur);return function(e){return a(t(e))}}())(r)}}},partitionMap:function(t){return function(r){return{left:Rr(ke(n))(function(){var a=ve(m.create)(N(s.value));return function(e){return a(t(e))}}())(r),right:Rr(ke(n))(function(a){return df(t(a))})(r)}}},Compactable0:function(){return gi(n)},Functor1:function(){return yt}}},e_=function(n){return function(t){return Mr(function(r){return b(n.Monad0().Bind1())(r_(n)(n))(function(a){return $n(kn)(n.Monad0().Bind1())(r(t(a.push)(a.event)))(function(){return _(n.Monad0().Applicative0())(_(n.Monad0().Applicative0())(void 0))})})})}},R=function(n){return function(t){return function(r){return d(n.Apply0().Functor0())(function(a){return _(n)(void 0)})(r(t))}}},qn=function(n){return{alt:function(t){return function(r){return function(a){return hn(n.Apply0())(d(n.Apply0().Functor0())(function(e){return function(o){return en(n.Apply0())(e)(o)}})(t(a)))(r(a))}}},Functor0:function(){return yt}}},J=function(n){return{empty:function(t){return _(n)(_(n)(void 0))},Alt0:function(){return qn(n)}}},ht=function(n){return{fold:th(n),keepLatest:nh(n),sampleOn:KC(n)(n.Monad0().Applicative0()),fix:rh(n)(n.Monad0()),bang:R(n.Monad0().Applicative0()),Plus0:function(){return J(n.Monad0().Applicative0())},Filterable1:function(){return ke(n.Monad0().Applicative0())}}};var Vf={Always0:function(){return zo(ne(Kr))},Always1:function(){return zo(ne(ne(Kr)))},Always2:function(){return zo(ne(Kr))},Always3:function(){return zo(fo(z))},Always4:function(){return zo(fo(z))},MonadST5:function(){return Sr}},jf={Always0:function(){return Vo(ne(Kr))},Always1:function(){return Vo(ne(ne(Kr)))},Always2:function(){return Vo(ne(Kr))},Always3:function(){return Vo(fo(z))},Always4:function(){return Vo(fo(z))},MonadST5:function(){return fn}},eh=function(){return lf.create}(),Dd=eh(0),yd=function(){return Xu.value}(),Gf=function(n){var t=Gr(ht(n.MonadST5()));return function(r){return t(Uo.create(r))}};var ah=function(n){return n},Ci=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),hi=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),oh=function(n){return n},Xf=je(),wt=oh;var vr=function(){return Ci.create}();var Co=function(){return hi.create}(),pt=function(){var n=d(Yr)(d(U)(N(!0)));return function(t){return ah(n(t))}}(),G=function(n){return n.attr};function Cd(n){var t={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}function hd(n){return function(t){return function(r){return r[n]=t(r[n]),r}}}var a_=function(n){return function(t){return function(r){return function(a){return n(t,r,a)}}}},o_=function(n){return function(t){return function(r){return function(a){return function(e){return n(t,r,a,e)}}}}};var f_=Za;var Fd=function(){return function(){return function(n){return function(t){return function(r){return function(a){return hd(Xt(n)(t))(r)(a)}}}}}};var c_=z,l_=function(n){return function(t){return n(Cd(t))}};var yh=function(n){return n},bh=function(n){return n.mappingWithIndex};var gh=function(n){return n.mapping};var Qf={mapRecordWithIndexBuilder:function(n){return function(t){return X(c_)}}},xd=function(n){return n.mapRecordWithIndexBuilder},fu=function(n){return function(t){return function(r){return function(){return function(){return{mapRecordWithIndexBuilder:function(a){return function(e){return ua(f_)(Fd()()(n)(w.value)(bh(t)(e)(w.value)))(xd(r)(w.value)(e))}}}}}}}};var wd=function(){return function(n){return{hmap:function(){var t=xd(n)(w.value);return function(r){return l_(t(yh(r)))}}()}}};var Ad=function(n){return n.hmap},cu=function(n){return{mappingWithIndex:function(t){return function(r){return gh(n)(t)}}}};var Th=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),lu=function(n){return function(t){return{mapping:function(r){return d(Yr)(ri(n))}}}},Sd=function(n){return function(t){return Ad(n)(new Th(t))}};function Id(n){return()=>n.slice()}function Ld(n){return t=>r=>()=>{r[n]=t}}function Nd(n){return()=>n.slice()}var Pd=n=>t=>t[n];var Ke=function(n){return n.reflectType};var kd=function(n){return Ke(n)};var _u=ft;var Zf=function(){return function(n){return n}};var Kf=function(){return function(){return function(){return function(){return function(){return function(n){var t=kd(n);return function(r){return Pd(t(r))}}}}}}};var s_=[];var nc=function(){return function(){return function(n){return function(t){return _i(n)(t)}}}};var Od="_____$__$_$$_vbus";function m_(n){return()=>{for(let t in n)delete n[t]}}function d_(n){return()=>{let t=(o,i,f,c)=>{let l=Object.keys(c);for(var p=0;p<l.length;p++)if(c[l[p]]instanceof Object&&c[l[p]][Od]===Od){let v={},D={};t(o,v,D,c[l[p]]),i[l[p]]=v,f[l[p]]=D}else{let v=`${Math.random()}`;o[v]={},i[l[p]]=D=>()=>{let u=Object.values(o[v]);for(var y=0;y<u.length;y++)u[y](D)()},f[l[p]]=D=>()=>{let u=`${Math.random()}`;return o[v][u]=D,()=>{o[v]&&o[v][u]&&delete o[v][u]}}}},r={},a={},e={};return t(r,a,e,n),{p:a,e,s:r}}}var v_=function(n){return function(){return function(){return function(t){return function(r){return function(a){return ia(Xt(n)(t))(r)(a)}}}}}},tc=function(n){return function(){return function(t){return function(r){return qr(Xt(n)(t))(r)}}}};var ec={vb:function(n){return function(t){return function(r){return{}}}}},Wd=function(n){return n.vb},D_=function(){return function(n){return function(t){return function(r){return function(a){var e=Wd(t)(w.value)(w.value)(w.value);return Mr(function(o){return b(n.Monad0().Bind1())(d_(e))(function(i){return $n(kn)(n.Monad0().Bind1())(o(a(i.p)(i.e)))(function(){return _(n.Monad0().Applicative0())(m_(i.s))})})})}}}}};var su=function(n){return function(){return function(){return function(t){return function(){return function(){return function(){return function(){return{vb:function(r){return function(a){return function(e){return v_(n)()()(w.value)(void 0)(Wd(t)(w.value)(w.value)(w.value))}}}}}}}}}}}};function Ud(n){return function(){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}}var Dr={};function y_(n){return n()}function Hd(n){return function(t){return function(r){return function(a){var e=r;function o(f){return function(c){return t(c)(f)(a[f])}}for(var i in a)hasOwnProperty.call(a,i)&&(e=n(e)(o(i)));return e}}}}function Bd(n,t,r,a){return r in a?t(a[r]):n}function pu(n){return function(t){var r=[];for(var a in t)hasOwnProperty.call(t,a)&&r.push(n(a)(t[a]));return r}}var Ah=Object.keys||pu(function(n){return function(){return n}});var Ei=function(){return{}};function qd(n){return function(t){return function(r){return function(a){return function(){return{}.hasOwnProperty.call(a,r)?n(a[r]):t}}}}}function et(n){return function(t){return function(r){return function(){return r[n]=t,r}}}}var Fi=function(n){return function(t){return function(){return delete t[n],t}}};var At=function(){return qd(m.create)(s.value)}();var Ph=pu(function(n){return function(t){return t}}),Mi=function(n){var t=Ul(n),r=pu(h.create);return function(a){return t(r(a))}};var $h=Ud;var Jd=function(n){return function(t){return y_(function(){var a=$h(t)();return n(a)(),a})}};var zd=function(){return o_(Bd)(s.value)(m.create)}();var Ja=function(n){return function(t){return Jd(et(n)(t))}};var g_=Hd(cl),Vd=function(n){return function(t){return g_(function(r){return function(a){return function(e){return M(n.Semigroup0())(r)(t(a)(e))}}})(En(n))}},T_={foldl:function(n){return g_(function(t){return function(r){return n(t)}})},foldr:function(n){return function(t){return function(r){return tt(k)(n)(t)(Ph(r))}}},foldMap:function(n){return function(t){return Vd(n)(N(t))}}},C_={foldlWithIndex:function(n){return g_(zn(n))},foldrWithIndex:function(n){return function(t){return function(r){return tt(k)(hf(n))(t)(pu(h.create)(r))}}},foldMapWithIndex:function(n){return Vd(n)},Foldable0:function(){return T_}};var h_=function(n){return Jd(Fi(n))};var jd=function(){function n(){}return n.value=new n,n}(),E_=function(){function n(){}return n.value=new n,n}(),kh=function(){function n(){}return n.value=new n,n}();var F_=function(n){return function(t){return function(r){var a=function(e){var o=function(i){return function(f){return new h(f+1|0,new h(i,f))}};return To(ht(n))(o)(e)(0)};return new _f(yi(ht(n))(vd(n)(a(r))(function(e){return d(yt)(function(o){return Y(qn(n.Monad0().Applicative0()))(Gr(ht(n))(new Uo(t(o.value0))))(d(yt)(N(Xu.value))(Di(ke(n.Monad0().Applicative0()))(function(){var i=bn(Ju)(o.value1+1|0);return function(f){return i(Pt(f))}}())(e)))})(e)})))}}};var za=function(n){return function(t){return function(r){return function(a){return function(e){var o=function(i){return i(a)(e)};return function(i){if(i instanceof Wn)return o(r.toElt(i.value0));if(i instanceof _f)return Mr(function(f){return b(t.Monad0().Bind1())(C(t)(Bt(Dr)))(function(c){return b(t.Monad0().Bind1())(er(i.value0)(function(l){return b(t.Monad0().Bind1())(r.ids(e))(function(p){return b(t.Monad0().Bind1())(C(t)(Bt(_(n)(void 0))))(function(v){return b(t.Monad0().Bind1())(r.ids(e))(function(D){return b(t.Monad0().Bind1())(C(t)(Bt(_(n)(void 0))))(function(u){return b(t.Monad0().Bind1())(C(t)(Bt(s.value)))(function(y){return b(t.Monad0().Bind1())(C(t)(Bt(_(n)(void 0))))(function(Rn){return b(t.Monad0().Bind1())(d(n.Apply0().Functor0())(xe.create)(r.ids(e)))(function(Mt){return b(t.Monad0().Bind1())(C(t)(Bt(jd.value)))(function(wr){return b(t.Monad0().Bind1())(er(l)(function(Kn){return b(t.Monad0().Bind1())(C(t)(Tt(wr)))(function(he){return Kn instanceof lf&&he instanceof E_?b(t.Monad0().Bind1())(C(t)(Tt(y)))(zr(n)(yn)(function(){var br=r.doLogic(Kn.value0)(e);return function(H){return f(br(H))}}())):Kn instanceof Xu&&he instanceof E_?$n(kn)(t.Monad0().Bind1())(A(n.Apply0().Functor0())(C(t)(mr(kh.value)(wr))))(function(){var br=en(n.Apply0())(en(n.Apply0())(en(n.Apply0())(en(n.Apply0())(b(t.Monad0().Bind1())(C(t)(Tt(y)))(zr(n)(yn)(function(H){return xn(n)(yn)(a.parent)(function(fr){return f(r.dynamicElementRemoved(e)({id:H,parent:fr,scope:Mt}))})})))(Je(t.Monad0().Bind1())(C(t)(Tt(v)))))(Je(t.Monad0().Bind1())(C(t)(Tt(u)))))(A(n.Apply0().Functor0())(C(t)(re(h_(p))(c)))))(A(n.Apply0().Functor0())(C(t)(re(h_(D))(c))));return en(n.Apply0())(A(n.Apply0().Functor0())(C(t)(mr(br)(Rn))))(br)}):Kn instanceof Uo&&he instanceof jd?$n(kn)(t.Monad0().Bind1())(A(n.Apply0().Functor0())(C(t)(mr(E_.value)(wr))))(function(){return b(t.Monad0().Bind1())(er(za(n)(t)(r)({parent:a.parent,scope:Mt,raiseId:function(br){return function(H){return $n(kn)(t.Monad0().Bind1())(_e(n)(bn(sf)(H)(Mt))($n(kn)(t.Monad0().Bind1())(xn(n)(yn)(a.parent)(function(fr){return f(r.dynamicElementInserted(e)({id:br,parent:fr,scope:H}))}))(function(){return A(n.Apply0().Functor0())(C(t)(mr(new m(br))(y)))})))(function(){return a.raiseId(br)(H)})}}})(e)(Kn.value0))(f))(function(br){return $n(kn)(t.Monad0().Bind1())(A(n.Apply0().Functor0())(C(t)(re(Ja(D)(br))(c))))(function(){return A(n.Apply0().Functor0())(C(t)(mr(br)(u)))})})}):_(n)(void 0)})}))(function(Kn){return $n(kn)(t.Monad0().Bind1())(A(n.Apply0().Functor0())(C(t)(mr(Kn)(v))))(function(){return $n(kn)(t.Monad0().Bind1())(A(n.Apply0().Functor0())(C(t)(re(Ja(p)(Kn))(c))))(function(){return Je(t.Monad0().Bind1())(C(t)(Tt(Rn)))})})})})})})})})})})})}))(function(l){return _(n)($n(kn)(t.Monad0().Bind1())(b(t.Monad0().Bind1())(C(t)(Tt(c)))(lt(T_)(en(n.Apply0()))(_(n)(void 0))))(function(){return l}))})})});throw new Error("Failed pattern match at Bolson.Control (line 558, column 17 - line 643, column 20): "+[i.constructor.name])}}}}}},Rh=function(){return function(n){return function(t){return function(r){return function(a){return function(e){return function(o){return function(i){var f=function(c){return function(l){return Mr(function(p){return b(n.Monad0().Bind1())(Id(d(ft)(N(""))(Zf()(o))))(function(v){var D=Le(k)(J(n.Monad0().Applicative0()))(pa(ru)(function(u){return bl(sm)(function(y){return function(Rn){return Rn instanceof Wn?function(Mt){return Mt({parent:s.value,scope:r(c.scope),raiseId:function(wr){return function(Kn){return Ld(u)(wr)(v)}}})(l)}(e.toElt(Rn.value0)):y(e.wrapElt(Rn))}})})(Zf()(o)));return b(n.Monad0().Bind1())(er(D)(p))(function(u){return b(n.Monad0().Bind1())(C(n)(Bt(_(n.Monad0().Applicative0())(void 0))))(function(y){return b(n.Monad0().Bind1())(d(n.Monad0().Bind1().Apply0().Functor0())(E)(Nd(v)))(function(Rn){var Mt=d(_u)(function(Kn){return function(he){return new Wn(e.fromEltO1(function(br){return function(H){return Mr(function(fr){return $n(kn)(n.Monad0().Bind1())(br.raiseId(Kn)(br.scope))(function(){return $n(kn)(n.Monad0().Bind1())(xn(n.Monad0().Applicative0())(yn)(br.parent)(function(Wu){return fr(e.giveNewParent(H)({id:Kn,parent:Wu,scope:br.scope})(he))}))(function(){return _(n.Monad0().Applicative0())(_(n.Monad0().Applicative0())(void 0))})})})}}))}})(Rn),wr=za(n.Monad0().Applicative0())(n)(a)(c)(l)(i(Mt)(E));return b(n.Monad0().Bind1())(er(wr)(p))(function(Kn){return $n(kn)(n.Monad0().Bind1())(A(n.Monad0().Bind1().Apply0().Functor0())(C(n)(mr(Kn)(y))))(function(){return _(n.Monad0().Applicative0())($n(kn)(n.Monad0().Bind1())(u)(function(){return $n(kn)(n.Monad0().Bind1())(_e(n.Monad0().Applicative0())(!t)(xn(n.Monad0().Applicative0())(k)(Zf()(Rn))(function(he){return p(e.deleteFromCache(l)({id:he}))})))(function(){return Je(n.Monad0().Bind1())(C(n)(Tt(y)))})}))})})})})})})})}};return new Wn(e.fromEltO2(f))}}}}}}}};var Gd=function(){return function(n){return function(t){return function(r){return function(a){return function(e){return Rh()(n)(!1)(X(z))(t)(r)(a)(e)}}}}}};var Xd=function(n){return F_(n)(X(z))};var M_=function(n){return new _f(n)},Qd=function(n){return function(t){return M_(Le(k)(J(n.Monad0().Applicative0()))(d(ft)(function(){var r=Gr(ht(n)),a=Gr(ht(n));return function(e){return r(a(Uo.create(e)))}}())(t)))}};var Oh=function(n){return n.makeText},Wh=function(n){return function(t){return function(r){return d(yt)(function(a){return n.setText(function(e){return{id:t,text:e}}(a))})(r)}}},Uh=function(n){return function(t){return function(r){return function(a){return function(e){return d(yt)(function(o){return function(i){if(i.value instanceof Ci)return r.setProp({id:a,key:i.key,value:i.value.value0,parent:n,scope:t});if(i.value instanceof hi)return r.setCb({id:a,key:i.key,value:i.value.value0,parent:n,scope:t});throw new Error("Failed pattern match at Deku.Control (line 165, column 26 - line 167, column 60): "+[i.value.constructor.name])}(Xf(o))})(e)}}}}},Hh=function(n){return n.makeElement},Yd=function(n){return n.attributeParent},ie=function(n){return function(t){var r=function(a){return function(e){return Mr(function(o){return b(n.Bind1())(e.ids)(function(i){return $n(kn)(n.Bind1())(a.raiseId(i)(a.scope))(function(){return d(n.Bind1().Apply0().Functor0())(en(n.Bind1().Apply0())(o(e.deleteFromCache({id:i}))))(er(Le(k)(J(n.Applicative0()))(M(gt)([R(n.Applicative0())(Oh(e)({id:i,parent:a.parent,scope:a.scope})),Wh(e)(i)(t)])(function(){if(a.parent instanceof m)return[R(n.Applicative0())(Yd(e)({id:i,parent:a.parent.value0}))];if(a.parent instanceof s)return[];throw new Error("Failed pattern match at Deku.Control (line 321, column 20 - line 323, column 30): "+[a.parent.constructor.name])}())))(o))})})})}};return new Wn(r)}},Hn=function(n){return function(t){return ie(n)(R(n.Applicative0())(t))}},oc=function(n){return F_(n.MonadST5())},Zd={doLogic:function(n){return function(t){return function(r){return t.sendToPos({id:r,pos:n})}}},ids:function(){var n=Gn();return function(t){return function(r){return r.ids}(n(t))}}(),dynamicElementRemoved:function(n){return function(t){return n.removeChild({id:t.id,scope:t.scope})}},dynamicElementInserted:function(n){return function(t){return n.addChild({child:t.id,parent:t.parent})}},toElt:function(n){return n}},ho=function(n){return function(t){return function(r){return e_(n.MonadST5())(oe(jr)(d(Yr)(ri(t)))(r))}}},w_=function(n){return za(n.MonadST5().Monad0().Applicative0())(n.MonadST5())(Zd)},Kd=function(n){return function(t){return function(r){return function(a){return Mr(function(e){return b(n.MonadST5().Monad0().Bind1())(a.ids)(function(o){return er(Le(k)(J(n.MonadST5().Monad0().Applicative0()))([R(n.MonadST5().Monad0().Applicative0())(a.makeRoot({id:o,root:t})),w_(n)({parent:new m(o),scope:new xe("rootScope"),raiseId:function(i){return function(f){return _(n.MonadST5().Monad0().Applicative0())(void 0)}}})(a)(r)]))(e)})})}}}},Et=function(n){return function(t){return function(r){return function(a){var e=function(o){return function(i){return Mr(function(f){return b(n.MonadST5().Monad0().Bind1())(i.ids)(function(c){return $n(kn)(n.MonadST5().Monad0().Bind1())(o.raiseId(c)(o.scope))(function(){return b(n.MonadST5().Monad0().Bind1())(er(Le(k)(J(n.MonadST5().Monad0().Applicative0()))(M(gt)([R(n.MonadST5().Monad0().Applicative0())(Hh(i)({id:c,parent:o.parent,scope:o.scope,tag:t})),Uh(o.parent)(o.scope)(i)(c)(r)])(M(gt)(_n([])(function(l){return[R(n.MonadST5().Monad0().Applicative0())(Yd(i)({id:c,parent:l}))]})(o.parent))([w_(n)({parent:new m(c),scope:o.scope,raiseId:function(l){return function(p){return _(n.MonadST5().Monad0().Applicative0())(void 0)}}})(i)(a)]))))(f))(function(l){return _(n.MonadST5().Monad0().Applicative0())(en(n.MonadST5().Monad0().Bind1().Apply0())(f(i.deleteFromCache({id:c})))(l))})})})})}};return e}}}};var nv=function(){return function(n){return function(t){return function(r){return Gd()(n.MonadST5())(Zd)({fromEltO1:je(),fromEltO2:je(),toElt:je(),wrapElt:function(){var a=Et(n)("div")(Cn(J(n.MonadST5().Monad0().Applicative0())));return function(e){return Wn.create(a(e))}}(),giveNewParent:function(a){return function(e){return function(o){return Gn()(a).giveNewParent(e)}}},deleteFromCache:function(){var a=Gn();return function(e){return function(o){return o.deleteFromCache}(a(e))}}()})(t)(oe(jr)(d(_u)(function(a){return a(void 0)}))(je()(r)))}}}};var A_=function(n){return function(t){return function(r){var a=function(e){return function(o){return Mr(function(i){return b(n.MonadST5().Monad0().Bind1())(o.ids)(function(f){return $n(kn)(n.MonadST5().Monad0().Bind1())(e.raiseId(f)(e.scope))(function(){return b(n.MonadST5().Monad0().Bind1())(er(Le(k)(J(n.MonadST5().Monad0().Applicative0()))([R(n.MonadST5().Monad0().Applicative0())(o.makeDyn({id:f,parent:e.parent,scope:e.scope})),w_(n)({parent:new m(f),scope:e.scope,raiseId:function(c){return function(l){return _(n.MonadST5().Monad0().Applicative0())(void 0)}}})(o)(t(r))]))(i))(function(c){return _(n.MonadST5().Monad0().Applicative0())(en(n.MonadST5().Monad0().Bind1().Apply0())(i(o.deleteFromCache({id:f})))(c))})})})})}};return new Wn(a)}}},uc=function(n){return A_(n)(M_)},ic=function(n){return A_(n)(Xd(n.MonadST5()))},du=function(n){return function(t){return function(r){return ic(n)(ho(n)(t)(r))}}},fc=function(){return function(n){return function(){return function(t){return function(r){return function(a){return function(e){return ic(n)(D_()(n.MonadST5())(r)(a)(oe(jr)(Sd(wd()(t))(w.value))(e)))}}}}}}},Ft=function(n){return A_(n)(Qd(n.MonadST5()))};var Qt=function(){function n(){}return n.value=new n,n}();var Yt={attr:function(n){return function(t){return wt({key:"href",value:vr(t)})}}};var bt=function(){function n(){}return n.value=new n,n}(),vu={attr:function(n){return function(t){return wt({key:"click",value:Co(N(Hr(U)(t)(!0)))})}}};var St={attr:function(n){return function(t){return wt({key:"click",value:Co(t)})}}};var Ir=function(){function n(){}return n.value=new n,n}();var Du={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var tv={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var rv={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var S_={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var cc={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var ev={attr:function(n){return function(t){return wt({key:"style",value:vr(t)})}}};var lc=function(n){return function(t){return function(r){return new Wn(Et(n)("a")(t)(Ft(n)(r)))}}};var I_=function(n){return function(t){return function(r){return new Wn(Et(n)("div")(t)(Ft(n)(r)))}}},Xn=function(n){return I_(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var Eo=function(n){return function(t){return function(r){return new Wn(Et(n)("span")(t)(Ft(n)(r)))}}},wi=function(n){return Eo(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var yu=function(){function n(){}return n.value=new n,n}();var ov={attr:function(n){return function(t){return wt({key:"type",value:vr(t)})}}};var sc={attr:function(n){return function(t){return wt({key:"type",value:vr(t)})}}};var Or=function(n){return function(t){return function(r){return new Wn(Et(n)("button")(t)(Ft(n)(r)))}}},uv=function(n){return Or(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var Bh=function(n){return function(t){return function(r){return new Wn(Et(n)("code")(t)(Ft(n)(r)))}}},Vt=function(n){return Bh(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var qh=function(n){return function(t){return function(r){return new Wn(Et(n)("i")(t)(Ft(n)(r)))}}},iv=function(n){return qh(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var ja=function(n){return function(t){return function(r){return new Wn(Et(n)("input")(t)(Ft(n)(r)))}}};var zh=function(n){return function(t){return function(r){return new Wn(Et(n)("li")(t)(Ft(n)(r)))}}},fv=function(n){return zh(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var jh=function(n){return function(t){return function(r){return new Wn(Et(n)("pre")(t)(Ft(n)(r)))}}},jt=function(n){return jh(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var Gh=function(n){return function(t){return function(r){return new Wn(Et(n)("ul")(t)(Ft(n)(r)))}}},cv=function(n){return Gh(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var mc=function(){function n(){}return n.value=new n,n}(),bu=function(){function n(){}return n.value=new n,n}(),gu=function(){function n(){}return n.value=new n,n}(),Tu=function(){function n(){}return n.value=new n,n}(),Cu=function(){function n(){}return n.value=new n,n}(),hu=function(){function n(){}return n.value=new n,n}(),Eu=function(){function n(){}return n.value=new n,n}(),Fu=function(){function n(){}return n.value=new n,n}(),Mu=function(){function n(){}return n.value=new n,n}(),xu=function(){function n(){}return n.value=new n,n}(),lv=function(n){return n==="Intro"?_(Nt)(mc.value):n==="HelloWorld"?_(Nt)(bu.value):n==="SimpleComponent"?_(Nt)(gu.value):n==="PURSX1"?_(Nt)(Tu.value):n==="PURSX2"?_(Nt)(Cu.value):n==="Events"?_(Nt)(hu.value):n==="Effects"?_(Nt)(Eu.value):n==="Events2"?_(Nt)(Fu.value):n==="Portals"?_(Nt)(Mu.value):n==="SSR"?_(Nt)(xu.value):Cn(kp)};function N_(){window.scrollTo(0,0)}var yr=N_;var _v=n=>t=>()=>{t.innerHTML=n},sv=n=>t=>()=>{if(n.childNodes.length===1){let a=document.createTextNode("");return n.prepend(a),a}else{for(var r=0;r<n.childNodes.length;r++)if(n.childNodes[r].nodeType===8&&n.childNodes[r].nodeValue===t)return n.childNodes[r+1];throw new Error("No text node found for pointer: "+t+" with cn length: "+n.childNodes.length)}throw new Error("You think you're clever, but your hydration algorithm just threw a programming error...")};var Oe=function(n){return n.state},Ai=function(n){return function(t){return Oe(n)(function(r){return new h(void 0,t)})}};var dc=function(n){return Oe(n)(function(t){return new h(t,t)})};function ta(n){return new Error(n)}function wu(n){return n.message}function ga(n){return function(){throw n}}var We=function(n){return n.throwError};var Ta=function(n){return n.catchError};var vc=function(n){return function(t){return Ta(n)(d(n.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(q.create)(t))(function(){var r=_(n.MonadThrow0().Monad0().Applicative0());return function(a){return r(V.create(a))}}())}};var xr=function(n){return n.lift};var ra=function(n){return n.tell};var mv={liftEffect:X(z),Monad0:function(){return io}},fe=function(n){return n.liftEffect};var P_=function(n){return{map:function(t){return function(r){return function(a){return d(n)(function(e){return new h(t(e.value0),e.value1)})(r(a))}}}}};var $_=function(n){return{Applicative0:function(){return bc(n)},Bind1:function(){return Dc(n)}}},Dc=function(n){return{bind:function(t){return function(r){return function(a){return b(n.Bind1())(t(a))(function(e){var o=r(e.value0);return o(e.value1)})}}},Apply0:function(){return yc(n)}}},yc=function(n){return{apply:de($_(n)),Functor0:function(){return P_(n.Bind1().Apply0().Functor0())}}},bc=function(n){return{pure:function(t){return function(r){return _(n.Applicative0())(new h(t,r))}},Apply0:function(){return yc(n)}}};var Su=function(n){return{state:function(t){var r=_(n.Applicative0());return function(a){return r(t(a))}},Monad0:function(){return $_(n)}}};var vv=function(n){return function(t){var r=n(t);return r.value1}},Dv=function(n){return function(t){var r=n(t);return r.value0}};var Oi=function(n){return function(t){return function(r){return r.replace(n,t)}}};var wo=function(n){return function(t){return t.split(n)}};var gc=function(n){return n.trim()},R_=function(n){return function(t){return t.join(n)}};var Lu=n=>()=>({...n});var Tc=function(n){return function(){console.error(n)}};var Fv=function(n){var t=fe(n);return function(r){return t(Tc(r))}};var Mv=function(n){return function(t){return function(r){return(r|0)===r?n(r):t}}},Wr=function(n){return n};var Cc=isFinite;var O_=Math.floor;var Wi=function(n){return function(t){return n%t}};var hc=function(){return Mv(m.create)(s.value)}(),y0=function(n){if(!Cc(n))return 0;if(n>=Wr(Nr(qe)))return Nr(qe);if(n<=Wr(Me(qe)))return Me(qe);if(Ut)return sr(0)(hc(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])};var U_=function(n){return y0(O_(n))};var xv=function(n){return n};var C0=1,H_=2147483647,h0=function(){return H_-1|0}(),B_=function(n){var t=function(r){return function(a){return function(e){var o=a-r|0,i=Yu(vf)(e)(o),f=i<r;return f?i+a|0:i}}};return t(C0)(h0)(n)};var E0=0,F0=48271,wv=function(n){return function(t){return hr()(hc(Wi(Wr(F0)*Wr(t)+Wr(n))(Wr(H_))))}},Av=wv(E0);var M0=JSON.parse;var x0=JSON.stringify;var Ec=function(n){return n};var Fc=function(n){return n};var Mc=function(n){return function(t){return n(t)}},q_=function(n){return{map:function(t){return Mc(d(n)(d(Ho)(t)))}}};var J_=function(n){return{Applicative0:function(){return Ca(n)},Bind1:function(){return Hi(n)}}},Hi=function(n){return{bind:function(t){return function(r){return b(n.Bind1())(t)(ve(function(){var a=_(n.Applicative0());return function(e){return a(V.create(e))}}())(function(a){var e=r(a);return e}))}},Apply0:function(){return Iv(n)}}},Iv=function(n){return{apply:de(J_(n)),Functor0:function(){return q_(n.Bind1().Apply0().Functor0())}}},Ca=function(n){return{pure:function(){var t=_(n.Applicative0());return function(r){return Ec(t(q.create(r)))}}(),Apply0:function(){return Iv(n)}}};var Lv=function(n){return{throwError:function(){var t=_(n.Applicative0());return function(r){return Ec(t(V.create(r)))}}(),Monad0:function(){return J_(n)}}};var xc=function(n){return function(t){return{alt:function(r){return function(a){return b(t.Bind1())(r)(function(e){if(e instanceof q)return _(t.Applicative0())(new q(e.value0));if(e instanceof V)return b(t.Bind1())(a)(function(o){if(o instanceof q)return _(t.Applicative0())(new q(o.value0));if(o instanceof V)return _(t.Applicative0())(new V(M(n)(e.value0)(o.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[o.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[e.constructor.name])})}},Functor0:function(){return q_(t.Bind1().Apply0().Functor0())}}}};var z_=function(){var n=Gn();return function(t){return n(Fc(t))}}();var I0=function(){function n(i){this.fn=i}var t={},r=function(i,f){this.head=i,this.tail=f};function a(i){return new r(i,t)}function e(i){return function(f){return new r(i,f)}}function o(i){for(var f=[],c=i;c!==t;)f.push(c.head),c=c.tail;return f}return function(i){return function(f){return function(c){var l=function(v,D){return i(f(e)(c(v)))(D)},p=function(v,D,u){if(D===0)return v;var y=u[D-1];return new n(function(){var Rn=p(l(y,v),D-1,u);return Rn})};return function(v){for(var D=f(a)(c(v[v.length-1])),u=p(D,v.length-1,v);u instanceof n;)u=u.fn();return f(o)(u)}}}}}();var j_=function(){var n=Rf(Gl);return function(t){return Of(n(t))}}();var kv=function(n){return n.value0};function Rv(n,t,r){return n==null?t:r(n)}function X_(n){return n}var ha=_n(null)(X_),mt=function(n){return Rv(n,s.value,m.create)};function Bi(n){return Object.prototype.toString.call(n).slice(8,-1)}var Vv=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};var Lc=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Nc=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),K_=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),ns=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),Ea=E,rD=E;var Ic=function(n){if(n instanceof Lc)return n.value0;if(n instanceof K_)return"Error at array index "+($(me)(n.value0)+(": "+Ic(n.value1)));if(n instanceof ns)return"Error at property "+($(_r)(n.value0)+(": "+Ic(n.value1)));if(n instanceof Nc)return"Type mismatch: expected "+(n.value0+(", found "+n.value1));throw new Error("Failed pattern match at Foreign (line 78, column 1 - line 78, column 45): "+[n.constructor.name])};var qi=function(n){var t=We(Lv(n));return function(r){return t(j_(r))}};var Xa=function(n){return function(t){return function(r){if(Bi(r)===t)return _(Ca(n))(rD(r));if(Ut)return qi(n)(new Nc(t,Bi(r)));throw new Error("Failed pattern match at Foreign (line 123, column 1 - line 123, column 104): "+[t.constructor.name,r.constructor.name])}}};var bE=function(n){return n};var gE=function(){var n=function(t){return new h(xv(t.newSeed),function(){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.newSeed=Av(t.newSeed),r}())};return Oe(Su(Dt))(n)}();var Ji=P_(La);var as=function(n){return Dv(bE(n))};var cD=yc(Dt),fD=function(n){return function(t){var r=Wr(t),a=Wr(n),e=function(f){return a+Wi(f)(r-a+1)},o=d(Ji)(Wr)(gE),i=hn(cD)(d(Ji)(nr(zu))(o))(d(Ji)(Fe(zu)(2))(o));return d(Ji)(function(f){return U_(e(f))})(i)}},lD=function(n){return function(t){var r=n<=t;return r?fD(n)(t):fD(t)(n)}};var os=function(n){return n.arbitrary};var us=function(){return{arbitrary:lD(-1e6)(1e6)}}();function Pc(n){return function(){return n.remove()}}var Ao=function(n){return function(t){return function(){return t[n]}}},hE=Ao("URL"),EE=Ao("documentURI"),FE=Ao("origin"),ME=Ao("compatMode"),xE=Ao("characterSet"),wE=Ao("contentType");var AE=Ao("documentElement");function zi(n){return function(t){return function(){return t.createElement(n)}}}function $c(n){return function(t){return function(){return t.createTextNode(n)}}}function sD(n,t,r,a){if(typeof window<"u"){var e=window[r];if(e!=null&&a instanceof e)return t(a)}for(var o=a;o!=null;){var i=Object.getPrototypeOf(o),f=i.constructor.name;if(f===r)return t(a);if(f==="Object")return n;o=i}return n}var L=function(n){return function(t){return sD(s.value,m.create,n,t)}};var kc=function(n){return function(t){return t[n]}},NE=kc("namespaceURI"),PE=kc("prefix"),$E=kc("localName"),is=kc("tagName");function fs(n){return function(t){return function(r){return function(){r.setAttribute(n,t)}}}}function pD(n){return function(t){return function(){return t.getAttribute(n)}}}var Rc=function(n){return function(t){return function(){return t[n]}}},RE=Rc("children"),OE=Rc("firstElementChild"),WE=Rc("lastElementChild"),UE=Rc("childElementCount");function mD(n){return function(t){return function(){return t.querySelector(n)}}}function Oc(n){return function(t){return function(){return t.querySelectorAll(n)}}}var Wc=function(n){var t=d(U)(mt),r=mD(n);return function(a){return t(r(a))}};var Vi=E,cs=E,dD=E;var ls=function(n){var t=d(U)(mt),r=pD(n);return function(a){return t(r(a))}};var Uc=L("Element");var He=function(n){return function(t){return function(){return t[n]}}};var VE=He("baseURI"),jE=He("ownerDocument"),GE=He("parentNode"),XE=He("parentElement");var QE=He("childNodes"),vD=He("firstChild"),YE=He("lastChild"),ZE=He("previousSibling"),KE=He("nextSibling"),nF=He("nodeValue");function _s(n){return function(t){return function(){t.nodeValue=n}}}var tF=He("textContent");function ss(n){return function(t){return function(r){return function(){r.insertBefore(n,t)}}}}function ps(n){return function(t){return function(){t.appendChild(n)}}}var DD=function(){var n=d(U)(mt);return function(t){return n(vD(t))}}();function Hc(n){return function(){return[].slice.call(n)}}var Bc=E;var yD=E;function qc(n){return function(){return function(t){return n(t)()}}}function ms(n){return function(t){return function(r){return function(a){return function(){return a.addEventListener(n,t,r)}}}}}function ds(n){return function(t){return function(r){return function(a){return function(){return a.removeEventListener(n,t,r)}}}}}var ea=function(){return window};function bD(n){return function(){return n.body}}var Pu=E;var $u=function(){var n=d(U)(mt);return function(t){return n(bD(t))}}();function TD(n,t,r){var a=Object.prototype.toString.call(r);return a.indexOf("[object HTML")===0&&a.indexOf("Element]")===a.length-8?t(r):n}var Xi=E;var CD=E;var hD=function(n){return TD(s.value,m.create,n)};function vs(n){return function(t){return function(){t.checked=n}}}function Ds(n){return function(){return n.value}}function ys(n){return function(t){return function(){t.value=n}}}function bs(n){return function(){return n.valueAsNumber}}var Jc=L("HTMLInputElement"),gs=L("HTMLInputElement");function aa(n){return function(){return n.document}}var Nn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Vn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Qn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),at=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ot=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Lo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Qi=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var wD=function(n){return function(t){return function(){var a=C(fn)(At(n)(t.units))();return _n(_(S)(s.value))(function(e){var o=function(){if(e instanceof Qn||e instanceof at||e instanceof ot||e instanceof Nn||e instanceof Vn)return e.value0.parent;throw new Error("Failed pattern match at Deku.Interpret (line 1206, column 14 - line 1211, column 35): "+[e.constructor.name])}();return _n(_(S)(s.value))(function(i){return function(){var c=C(fn)(At(i)(t.units))();return _n(_(S)(s.value))(function(l){var p=function(){if(l instanceof Qn||l instanceof at||l instanceof ot||l instanceof Nn||l instanceof Vn)return l.value0.parent;throw new Error("Failed pattern match at Deku.Interpret (line 1216, column 27 - line 1221, column 39): "+[l.constructor.name])}();return _n(_(S)(s.value))(function(v){return function(){var u=C(fn)(At(v)(t.units))();return _n(_(S)(s.value))(function(y){if(y instanceof Qn)return _(S)(new m({newStep:i,newArray:ka(1)($f(function(Rn){return i!==Rn})(y.value0.children).rest)}));if(y instanceof ot)return _(S)(new m({newStep:i,newArray:ka(1)($f(function(Rn){return i!==Rn})(y.value0.children).rest)}));if(y instanceof at)return wD(v)(t);if(y instanceof Nn)return _(S)(s.value);if(y instanceof Vn)return _(S)(s.value);throw new Error("Failed pattern match at Deku.Interpret (line 1224, column 44 - line 1236, column 36): "+[y.constructor.name])})(u)()}})(p)})(c)()}})(o)})(a)()}}},HF=function(n){return function(t){return function(){var a=At(n.id)(t.units)();return xn(jn)(yn)(a)(function(e){if(e instanceof Vn)return A(mn)(et(n.id)(new Vn({parent:e.value0.parent,scope:e.value0.scope,main:function(){var o=Gn()(e.value0.main);return{text:n.text}}(),portalTookMeHere:e.value0.portalTookMeHere}))(t.units));if(e instanceof Nn)return _(jn)(void 0);if(e instanceof Qn)return _(jn)(void 0);if(e instanceof at)return _(jn)(void 0);if(e instanceof ot)return _(jn)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 1024, column 5 - line 1037, column 28): "+[e.constructor.name])})()}}},BF=function(n){return function(t){return function(){var a=At(n.id)(t.units)();return xn(jn)(yn)(a)(function(e){if(e instanceof Nn){if(e.value0.main instanceof Lo)return A(mn)(Pr({key:n.key,value:n.value})(e.value0.main.value0.attributes));if(e.value0.main instanceof Qi)return _(jn)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 338, column 21 - line 340, column 39): "+[e.value0.main.constructor.name])}if(e instanceof Vn)return _(jn)(void 0);if(e instanceof Qn)return _(jn)(void 0);if(e instanceof at)return _(jn)(void 0);if(e instanceof ot)return _(jn)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 337, column 5 - line 344, column 28): "+[e.constructor.name])})()}}},qF=function(n){return function(t){return function(){var a=C(fn)(At(n.id)(t.units))();return xn(S)(yn)(a)(function(e){if(e instanceof Vn)return _s(n.text)(Bc(e.value0.main));if(e instanceof Nn)return _(S)(void 0);if(e instanceof Qn)return _(S)(void 0);if(e instanceof at)return _(S)(void 0);if(e instanceof ot)return _(S)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 1008, column 5 - line 1014, column 28): "+[e.constructor.name])})()}}},AD=function(n){return function(t){return function(){var a=C(fn)(At(n.id)(t.units))();return xn(S)(yn)(a)(function(e){if(e instanceof Nn){var o=is(e.value0.main),i=(o==="INPUT"||o==="input")&&n.key==="value";if(i)return xn(S)(yn)(gs(e.value0.main))(ys(n.value));var f=(o==="INPUT"||o==="input")&&n.key==="checked";return f?xn(S)(yn)(gs(e.value0.main))(vs(n.value==="true")):fs(n.key)(n.value)(e.value0.main)}if(e instanceof Vn)return _(S)(void 0);if(e instanceof Qn)return _(S)(void 0);if(e instanceof at)return _(S)(void 0);if(e instanceof ot)return _(S)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 257, column 5 - line 271, column 28): "+[e.constructor.name])})()}}},SD=function(n){return function(t){return function(){var a=C(fn)(At(n.id)(t.units))();return xn(S)(yn)(a)(function(e){if(e instanceof Nn){var o=n.key==="@self@";if(o)return A(U)(Gn()(n.value)(e.value0.main));var i=zd(n.key)(e.value0.listeners);return function(){xn(S)(yn)(i)(function(l){return function(){var v=qc(l)();return ds(n.key)(v)(!0)(cs(e.value0.main))()}})();var c=qc(Gn()(n.value))();return ms(n.key)(c)(!0)(cs(e.value0.main))(),A(U)(C(fn)(et(n.id)(new Nn({parent:e.value0.parent,scope:e.value0.scope,main:e.value0.main,listeners:Ja(n.key)(Gn()(n.value))(e.value0.listeners),portalTookMeHere:e.value0.portalTookMeHere}))(t.units)))()}}if(e instanceof Vn)return _(S)(void 0);if(e instanceof Qn)return _(S)(void 0);if(e instanceof at)return _(S)(void 0);if(e instanceof ot)return _(S)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 1051, column 5 - line 1071, column 28): "+[e.constructor.name])})()}}},Cs=function(n){return function(t){return function(r){return b(n.Monad0().Bind1())(C(n)(At(t.id)(r.units)))(function(a){return _n(_(n.Monad0().Applicative0())([]))(function(e){var o=function(){if(e instanceof Nn||e instanceof Vn||e instanceof Qn||e instanceof at||e instanceof ot)return e.value0.parent;throw new Error("Failed pattern match at Deku.Interpret (line 1156, column 16 - line 1161, column 29): "+[e.constructor.name])}();return _n(_(n.Monad0().Applicative0())([]))(function(i){return b(n.Monad0().Bind1())(C(n)(At(i)(r.units)))(function(f){return _n(_(n.Monad0().Applicative0())([]))(function(c){if(c instanceof Qn){var l=Jl(Ee)(t.id)(c.value0.children),p=$p(function(v){return M(gt)(l)([t.id])})(Hl(t.pos)(t.id)(l));return C(n)(Hr(mn)(et(i)(new Qn({parent:c.value0.parent,scope:c.value0.scope,children:p,portalTookMeHere:c.value0.portalTookMeHere}))(r.units))(ka(t.pos+1|0)(p)))}if(c instanceof Vn)return _(n.Monad0().Applicative0())([]);if(c instanceof Nn)return _(n.Monad0().Applicative0())([]);if(c instanceof at)return _(n.Monad0().Applicative0())([]);if(c instanceof ot)return _(n.Monad0().Applicative0())([]);throw new Error("Failed pattern match at Deku.Interpret (line 1165, column 9 - line 1186, column 30): "+[c.constructor.name])})(f)})})(o)})(a)})}}},ID=function(n){return function(t){return A(mn)(Cs(Sr)(n)(t))}},JF=function(n){return function(t){return ID({id:n.id,pos:Nr(qe)-1|0})(t)}},LD=function(n){if(n instanceof xe)return n.value0;if(n instanceof Ia)return"rootScope";throw new Error("Failed pattern match at Deku.Interpret (line 213, column 1 - line 213, column 33): "+[n.constructor.name])},ku=function(n){return function(t){return function(r){return function(a){return b(n.Monad0().Bind1())(C(n)(At(r.id)(a.units)))(function(e){return xn(n.Monad0().Applicative0())(yn)(e)(function(o){var i=function(){if(o instanceof Nn||o instanceof Vn||o instanceof Qn||o instanceof at||o instanceof ot)return o.value0.portalTookMeHere;throw new Error("Failed pattern match at Deku.Interpret (line 675, column 23 - line 680, column 39): "+[o.constructor.name])}();return $o(n.Monad0().Applicative0())(Wo(i)&&ko(eo(sf))(new m(r.scope))(i))(function(){var f=function(){if(o instanceof Nn)return new Nn({parent:s.value,scope:o.value0.scope,main:o.value0.main,listeners:o.value0.listeners,portalTookMeHere:o.value0.portalTookMeHere});if(o instanceof Vn)return new Vn({parent:s.value,scope:o.value0.scope,main:o.value0.main,portalTookMeHere:o.value0.portalTookMeHere});if(o instanceof Qn)return new Qn({parent:s.value,scope:o.value0.scope,children:o.value0.children,portalTookMeHere:o.value0.portalTookMeHere});if(o instanceof at)return new at({parent:s.value,scope:o.value0.scope,child:o.value0.child,portalTookMeHere:o.value0.portalTookMeHere});if(o instanceof ot)return new ot({parent:s.value,scope:o.value0.scope,children:o.value0.children,portalTookMeHere:o.value0.portalTookMeHere});throw new Error("Failed pattern match at Deku.Interpret (line 683, column 16 - line 688, column 54): "+[o.constructor.name])}();return $n(kn)(n.Monad0().Bind1())(C(n)(A(mn)(et(r.id)(f)(a.units))))(function(){var c=function(){if(o instanceof Qn||o instanceof at||o instanceof ot||o instanceof Nn||o instanceof Vn)return o.value0.parent;throw new Error("Failed pattern match at Deku.Interpret (line 691, column 13 - line 696, column 37): "+[o.constructor.name])}();return $n(kn)(n.Monad0().Bind1())(function(){if(o instanceof Qn)return xn(n.Monad0().Applicative0())(k)(o.value0.children)(function(l){return ku(n)(t)({id:l,scope:r.scope})(a)});if(o instanceof at)return xn(n.Monad0().Applicative0())(yn)(o.value0.child)(function(l){return ku(n)(t)({id:l,scope:r.scope})(a)});if(o instanceof ot)return xn(n.Monad0().Applicative0())(k)(o.value0.children)(function(l){return ku(n)(t)({id:l,scope:r.scope})(a)});if(o instanceof Nn||o instanceof Vn)return t(r)(a);throw new Error("Failed pattern match at Deku.Interpret (line 697, column 7 - line 708, column 33): "+[o.constructor.name])}())(function(){return xn(n.Monad0().Applicative0())(yn)(c)(function(l){return b(n.Monad0().Bind1())(C(n)(At(l)(a.units)))(function(p){return xn(n.Monad0().Applicative0())(yn)(p)(function(v){if(v instanceof Qn)return C(n)(A(mn)(et(l)(new Qn({parent:v.value0.parent,scope:v.value0.scope,children:Di(zf)(function(){var D=$r(ur);return function(u){return D(function(y){return y===r.id}(u))}}())(v.value0.children),portalTookMeHere:v.value0.portalTookMeHere}))(a.units)));if(v instanceof at)return C(n)(A(mn)(et(l)(new at({parent:v.value0.parent,scope:v.value0.scope,child:s.value,portalTookMeHere:v.value0.portalTookMeHere}))(a.units)));if(v instanceof ot)return C(n)(A(mn)(et(l)(new ot({parent:v.value0.parent,scope:v.value0.scope,children:Di(zf)(function(){var D=$r(ur);return function(u){return D(function(y){return y===r.id}(u))}}())(v.value0.children),portalTookMeHere:v.value0.portalTookMeHere}))(a.units)));if(v instanceof Nn)return _(n.Monad0().Applicative0())(void 0);if(v instanceof Vn)return _(n.Monad0().Applicative0())(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 712, column 11 - line 738, column 33): "+[v.constructor.name])})})})})})}())})})}}}},zF=ku(Sr)(function(n){return function(t){return _(jn)(void 0)}}),VF=function(n){return function(t){return function(){var a=C(fn)(At(n.id)(t.units))();return xn(S)(yn)(a)(function(e){if(e instanceof Nn)return Pc(dD(e.value0.main));if(e instanceof Vn)return Pc(yD(e.value0.main));if(e instanceof Qn)return _(S)(void 0);if(e instanceof at)return _(S)(void 0);if(e instanceof ot)return _(S)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 241, column 5 - line 246, column 28): "+[e.constructor.name])})()}}},jF=function(n){return function(t){return ku(fn)(VF)(n)(t)}},ND=function(n){return function(t){return function(r){return $n(kn)(n.Monad0().Bind1())(C(n)(ku(Sr)(function(a){return function(e){return _(jn)(void 0)}})({id:t.id,scope:t.scope})(r)))(function(){return b(n.Monad0().Bind1())(C(n)(At(t.id)(r.units)))(function(a){return xn(n.Monad0().Applicative0())(yn)(a)(function(e){var o=function(){if(e instanceof Nn)return new Nn({parent:new m(t.parent),scope:e.value0.scope,main:e.value0.main,listeners:e.value0.listeners,portalTookMeHere:new m(t.scope)});if(e instanceof Vn)return new Vn({parent:new m(t.parent),scope:e.value0.scope,main:e.value0.main,portalTookMeHere:new m(t.scope)});if(e instanceof Qn)return new Qn({parent:new m(t.parent),scope:e.value0.scope,children:e.value0.children,portalTookMeHere:new m(t.scope)});if(e instanceof at)return new at({parent:new m(t.parent),scope:e.value0.scope,child:e.value0.child,portalTookMeHere:new m(t.scope)});if(e instanceof ot)return new ot({parent:new m(t.parent),scope:e.value0.scope,children:e.value0.children,portalTookMeHere:new m(t.scope)});throw new Error("Failed pattern match at Deku.Interpret (line 1098, column 14 - line 1108, column 73): "+[e.constructor.name])}();return C(n)(A(mn)(et(t.id)(o)(r.units)))})})})}}},GF=ND(Sr),PD=function(n){return function(t){return function(r){return C(n)(A(mn)(Fi(t.id)(r.units)))}}},XF=PD(Sr),Io=function(n){return function(t){return n+("@"+t)}},Vc=function(){var t=Ei(),r=Ei(),a=Bt(!1)();return{units:t,scopes:r,hydrating:a}};var So=function(n){return function(t){return function(r){return function(a){var e=ga(ta("Cannot resolve parent of "+(t+(" for dyn traversal starting at "+r))));return function(){var i=C(fn)(At(t)(a.units))();if(i instanceof m){if(i.value0 instanceof Nn)return n?{parentNode:i.value0.value0.main,parentId:t}:_n(e)(function(f){return So(!0)(f)(r)(a)})(i.value0.value0.parent)();if(i.value0 instanceof Vn)return _n(e)(function(f){return So(!0)(f)(r)(a)})(i.value0.value0.parent)();if(i.value0 instanceof Qn)return _n(e)(function(f){return So(!0)(f)(r)(a)})(i.value0.value0.parent)();if(i.value0 instanceof at)return _n(e)(function(f){return So(!0)(f)(r)(a)})(i.value0.value0.parent)();if(i.value0 instanceof ot)return _n(e)(function(f){return So(!0)(f)(r)(a)})(i.value0.value0.parent)();throw new Error("Failed pattern match at Deku.Interpret (line 1260, column 7 - line 1272, column 19): "+[i.value0.constructor.name])}if(i instanceof s)return e();throw new Error("Failed pattern match at Deku.Interpret (line 1258, column 3 - line 1273, column 29): "+[i.constructor.name])}}}}},QF=function(n){return function(t){return function(r){var a=function(i){var f=function(l){if(Ut)return _(S)(s.value);throw new Error("Failed pattern match at Deku.Interpret (line 1275, column 1 - line 1279, column 81): "+[i.constructor.name])},c=mo(i);return c instanceof m?function(){var p=e(c.value0.head)();if(p instanceof m)return new m(p.value0);if(p instanceof s)return a(c.value0.tail)();throw new Error("Failed pattern match at Deku.Interpret (line 1309, column 9 - line 1311, column 38): "+[p.constructor.name])}:f(!0)},e=function(i){return function(){var c=C(fn)(At(i)(r.units))();if(c instanceof m){if(c.value0 instanceof Nn)return new m(Vi(c.value0.value0.main));if(c.value0 instanceof Vn)return new m(Bc(c.value0.value0.main));if(c.value0 instanceof Qn)return a(c.value0.value0.children)();if(c.value0 instanceof at)return a(_n([])(_(no))(c.value0.value0.child))();if(c.value0 instanceof ot)return a(c.value0.value0.children)();throw new Error("Failed pattern match at Deku.Interpret (line 1294, column 9 - line 1299, column 45): "+[c.value0.constructor.name])}if(c instanceof s)return s.value;throw new Error("Failed pattern match at Deku.Interpret (line 1292, column 5 - line 1300, column 30): "+[c.constructor.name])}},o=function(i){return function(f){return function(c){var l=i===f;return l?_(S)(s.value):function(){var v=a(c)();if(v instanceof m)return new m(v.value0);if(v instanceof s){var D=wD(f)(r)();if(D instanceof m)return o(i)(D.value0.newStep)(D.value0.newArray)();if(D instanceof s)return s.value;throw new Error("Failed pattern match at Deku.Interpret (line 1324, column 11 - line 1327, column 36): "+[D.constructor.name])}throw new Error("Failed pattern match at Deku.Interpret (line 1320, column 7 - line 1327, column 36): "+[v.constructor.name])}}}};return function(){var f=So(!1)(t.id)(t.id)(r)(),c=o(f.parentId)(t.id)(n)();return{parentNode:Vi(f.parentNode),toMyRight:c}}}}},zc=function(n){return function(t){return function(){var a=C(fn)(At(n)(t.units))();return _n(_(S)([]))(function(e){if(e instanceof Nn)return _(S)([Vi(e.value0.main)]);if(e instanceof Vn)return _(S)([Bc(e.value0.main)]);if(e instanceof Qn)return d(U)(Je(oo))(Ct(dr)(S)(zn(zc)(t))(e.value0.children));if(e instanceof at)return d(U)(sr([]))(Ct(nu)(S)(zn(zc)(t))(e.value0.child));if(e instanceof ot)return d(U)(Je(oo))(Ct(dr)(S)(zn(zc)(t))(e.value0.children));throw new Error("Failed pattern match at Deku.Interpret (line 1336, column 5 - line 1344, column 73): "+[e.constructor.name])})(a)()}}},$D=function(n){return function(t){return function(){var a=Cs(fn)(n)(t)(),e=QF(a)(n)(t)(),o=zc(n.id)(t)();return Zu(o)(function(i){if(e.toMyRight instanceof m)return ss(i)(e.toMyRight.value0)(e.parentNode);if(e.toMyRight instanceof s)return ps(i)(e.parentNode);throw new Error("Failed pattern match at Deku.Interpret (line 1356, column 30 - line 1358, column 40): "+[e.toMyRight.constructor.name])})()}}},YF=function(n){return function(t){return C(fn)(PD(Sr)(n)(t))}},kD=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();return function(){return a?function(e){return function(o){return A(U)(Cs(fn)(e)(o))}}:$D}()({id:n.id,pos:Nr(qe)-1|0})(t)()}}},ZF=function(n){return function(t){return function(){return C(fn)(ND(Sr)(n)(t))(),kD({id:n.id,parent:n.parent})(t)()}}},hs=function(n){return function(t){var r=LD(n.scope);return function(){var e=At(r)(t.scopes)();if(e instanceof m)return A(mn)(Pr(n.id)(e.value0))();if(e instanceof s){var o=ee();return A(mn)(Pr(n.id)(o))(),A(mn)(et(r)(o)(t.scopes))()}throw new Error("Failed pattern match at Deku.Interpret (line 500, column 35 - line 505, column 45): "+[e.constructor.name])}}},KF=function(n){return function(t){return function(){C(fn)(hs(n)(t))();var a=ea(),e=aa(a)(),o=$c("")(Pu(e))();return A(U)(C(fn)(et(n.id)(new Vn({scope:n.scope,parent:n.parent,main:o,portalTookMeHere:s.value}))(t.units)))()}}},nM=function(n){return function(t){return function(){C(fn)(hs(n)(t))();var a=ea(),e=aa(a)(),o=$u(e)();return xn(S)(yn)(o)(function(i){return xn(S)(yn)(n.parent)(function(f){return function(){var l=So(!0)(f)(n.id)(t)(),p=Wc("[data-deku-ssr-"+(l.parentId+"]"))(Xi(i))();if(p instanceof m){var v=sv(p.value0)(n.id)();return C(fn)(et(n.id)(new Vn({scope:n.scope,parent:n.parent,main:v,portalTookMeHere:s.value}))(t.units))()}if(p instanceof s){var D=$c("")(Pu(e))();return C(fn)(et(n.id)(new Vn({scope:n.scope,parent:n.parent,main:D,portalTookMeHere:s.value}))(t.units))()}throw new Error("Failed pattern match at Deku.Interpret (line 531, column 7 - line 556, column 24): "+[p.constructor.name])}})})()}}},tM=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();return function(){return a?nM:KF}()(n)(t)()}}},rM=function(n){return function(t){return function(){return C(Sr)(hs(n)(t))(),A(mn)(et(n.id)(new Vn({scope:n.scope,parent:n.parent,main:{text:""},portalTookMeHere:s.value}))(t.units))()}}},Fa=function(n){return function(t){var r=LD(n.scope);return function(){var e=At(r)(t.scopes)();if(e instanceof m)return A(mn)(Pr(n.id)(e.value0))();if(e instanceof s){var o=ee();return A(mn)(Pr(n.id)(o))(),A(mn)(et(r)(o)(t.scopes))()}throw new Error("Failed pattern match at Deku.Interpret (line 225, column 35 - line 230, column 45): "+[e.constructor.name])}}},eM=function(n){return function(t){return function(){C(fn)(Fa(n)(t))();var a=ea(),e=aa(a)(),o=zi(n.tag)(Pu(e))();return A(U)(C(fn)(et(n.id)(new Nn({listeners:Dr,parent:n.parent,scope:n.scope,main:o,portalTookMeHere:s.value}))(t.units)))()}}},aM=function(n){return function(t){return function(){C(fn)(Fa(n)(t))();var a=ea(),e=aa(a)(),o=$u(e)();return xn(S)(yn)(o)(function(i){return function(){var c=Wc("[data-deku-ssr-"+(n.id+"]"))(Xi(i))();if(c instanceof m)return A(U)(C(fn)(et(n.id)(new Nn({listeners:Dr,parent:n.parent,scope:n.scope,main:c.value0,portalTookMeHere:s.value}))(t.units)))();if(c instanceof s){var l=zi(n.tag)(Pu(e))();return A(U)(C(fn)(et(n.id)(new Nn({listeners:Dr,parent:n.parent,scope:n.scope,main:l,portalTookMeHere:s.value}))(t.units)))()}throw new Error("Failed pattern match at Deku.Interpret (line 289, column 5 - line 315, column 22): "+[c.constructor.name])}})()}}},oM=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();return function(){return a?aM:eM}()(n)(t)()}}},RD=function(n){return function(t){return function(r){return $n(kn)(n.Monad0().Bind1())(C(n)(Fa(t)(r)))(function(){return C(n)(A(mn)(et(t.id)(new Qn({scope:t.scope,parent:t.parent,children:[],portalTookMeHere:s.value}))(r.units)))})}}},uM=RD(fn),iM=RD(Sr),OD=function(n){return function(t){return function(r){return $n(kn)(n.Monad0().Bind1())(C(n)(Fa({id:t.id,scope:Ia.value})(r)))(function(){return C(n)(A(mn)(et(t.id)(new Nn({main:t.root,parent:s.value,scope:Ia.value,listeners:Dr,portalTookMeHere:s.value}))(r.units)))})}}},fM=OD(fn),cM=OD(Sr),lM=function(n){return function(t){return function(r){var a=function(o){return function(){var f=ls("data-deku-attr-internal")(o)();return xn(S)(yn)(f)(function(c){return function(){return A(U)(C(fn)(et(c)(new Nn({listeners:Dr,main:o,scope:t.scope,parent:t.parent,portalTookMeHere:s.value}))(r.units)))(),C(fn)(Fa({id:c,scope:t.scope})(r))()}})()}},e=function(o){return function(){var f=ls("data-deku-elt-internal")(o)();return xn(S)(yn)(f)(function(c){return function(){return A(U)(C(fn)(et(c)(new Nn({listeners:Dr,main:o,scope:t.scope,parent:t.parent,portalTookMeHere:s.value}))(r.units)))(),C(fn)(Fa({id:c,scope:t.scope})(r))()}})()}};return xn(S)(yn)(d(ct)(Xi)(hD(n)))(function(o){return function(){return b(Jr)(b(Jr)(Oc("[data-deku-attr-internal]")(o))(Hc))(function(){var f=zr(S)(yn)(zn(Zu)(a)),c=Ct(dr)(Nt)(Uc);return function(l){return f(c(l))}}())(),b(Jr)(b(Jr)(Oc("[data-deku-elt-internal]")(o))(Hc))(function(){var f=zr(S)(yn)(zn(Zu)(e)),c=Ct(dr)(Nt)(Uc);return function(l){return f(c(l))}}())()}})}}},WD=function(n){return function(t){return function(r){return function(a){var e=Mi(sa)(r.cache),o=vv(Ct(dr)(bc(Dt))(function(i){return b(Dc(Dt))(dc(Su(Dt)))(function(f){return i.value1?Ai(Su(Dt))(Oi(r.verb+(i.value0+r.verb))("data-deku-attr-internal="+('"'+(Io(i.value0)(r.pxScope)+'"')))(f)):Ai(Su(Dt))(Oi(r.verb+(i.value0+r.verb))('<span style="display:contents;" data-deku-elt-internal='+('"'+(Io(i.value0)(r.pxScope)+'"></span>')))(f))})})(e))(r.html);return b(n.Monad0().Bind1())(t(gc(o)))(function(i){return $n(kn)(n.Monad0().Bind1())(C(n)(Fa(r)(a)))(function(){return C(n)(A(mn)(et(r.id)(new Nn({listeners:Dr,parent:r.parent,scope:r.scope,main:i,portalTookMeHere:s.value}))(a.units)))})})}}}},_M=WD(fn)(function(n){return function(){var r=ea(),a=aa(r)(),e=zi("div")(Pu(a))();_v(n)(e)();var o=DD(Vi(e))(),i=_n(ga(ta("PursX: No first child")))(_(S))(o)(),f=_n(ga(ta("PursX: Not node")))(_(S))(Uc(i))();return f}}),sM=WD(Sr)(function(n){return _(jn)(new Qi({html:n}))}),UD=function(n){return function(t){return function(r){return function(){var e=ea(),o=aa(e)(),i=$u(o)();return xn(S)(yn)(i)(function(f){return function(){var l=Wc(n(t))(Xi(f))();return _n(_e(S)(!1)(Fv(mv)("Could not find pursx "+$(ff()()(to({reflectSymbol:function(){return"id"}})(to({reflectSymbol:function(){return"parent"}})(to({reflectSymbol:function(){return"scope"}})(uf)(Rp))(Gu(_r)))(_r)))({id:t.id,parent:t.parent,scope:t.scope}))))(function(p){return function(){return C(fn)(Fa(t)(r))(),A(U)(C(fn)(et(t.id)(new Nn({listeners:Dr,parent:t.parent,scope:t.scope,main:p,portalTookMeHere:s.value}))(r.units)))()}})(l)()}})()}}}},Es=UD(function(n){return"[data-deku-ssr-"+(n.id+"]")}),pM=function(n){return function(t){return function(){Es(n)(t)();var a=Mi(sa)(n.cache);return xn(S)(k)(Rr(zf)(function(e){return e.value1?s.value:new m(e.value0)})(a))(function(e){var o=Io(e)(n.pxScope);return UD(function(i){return"[data-deku-elt-internal="+('"'+(o+'"]'))})({id:o,parent:n.parent,scope:n.scope})(t)})()}}},mM=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();(function(){return a?pM:_M})()(n)(t)();var e=C(fn)(At(n.id)(t.units))();return xn(S)(yn)(e)(function(o){if(o instanceof Nn)return lM(o.value0.main)(n)(t);if(o instanceof Vn)return _(S)(void 0);if(o instanceof Qn)return _(S)(void 0);if(o instanceof at)return _(S)(void 0);if(o instanceof ot)return _(S)(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 872, column 22 - line 877, column 26): "+[o.constructor.name])})()}}},dM=function(n){return function(t){return function(){return Es(n)(t)(),SD(n)(t)()}}},vM=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();return function(){return a?dM:SD}()(n)(t)()}}},DM=function(n){return function(t){return function(){return Es(n)(t)(),AD(n)(t)()}}},yM=function(n){return function(t){return function(){var a=C(fn)(Tt(t.hydrating))();return function(){return a?DM:AD}()(n)(t)()}}},bM=function(n){return function(t){return function(){C(Sr)(Fa(n)(t))();var a=ee();return A(mn)(et(n.id)(new Nn({listeners:Dr,scope:n.scope,parent:n.parent,main:new Lo({attributes:a,tag:n.tag}),portalTookMeHere:s.value}))(t.units))()}}},HD=function(n){return function(t){return function(r){return b(n.Monad0().Bind1())(C(n)(At(t.parent)(r.units)))(function(a){return xn(n.Monad0().Applicative0())(yn)(a)(function(e){if(e instanceof Qn)return C(n)(A(mn)(et(t.parent)(new Qn({parent:e.value0.parent,scope:e.value0.scope,children:M(gt)(e.value0.children)([t.child]),portalTookMeHere:e.value0.portalTookMeHere}))(r.units)));if(e instanceof at)return C(n)(A(mn)(et(t.parent)(new at({parent:e.value0.parent,scope:e.value0.scope,child:new m(t.child),portalTookMeHere:e.value0.portalTookMeHere}))(r.units)));if(e instanceof ot)return C(n)(A(mn)(et(t.parent)(new ot({parent:e.value0.parent,scope:e.value0.scope,children:M(gt)(e.value0.children)([t.child]),portalTookMeHere:e.value0.portalTookMeHere}))(r.units)));if(e instanceof Nn)return _(n.Monad0().Applicative0())(void 0);if(e instanceof Vn)return _(n.Monad0().Applicative0())(void 0);throw new Error("Failed pattern match at Deku.Interpret (line 616, column 5 - line 646, column 27): "+[e.constructor.name])})})}}},gM=HD(fn),BD=function(n){return{ids:function(){var r=qo(n)(),a=$(me)(as(os(us))({newSeed:B_(r),size:5}));return A(U)(rm(nr(Zr)(1))(n))(),a},makeElement:oM,attributeParent:kD,makeRoot:fM,makeText:tM,makePursx:mM,setProp:yM,setCb:vM,setText:qF,sendToPos:$D,deleteFromCache:YF,giveNewParent:ZF,removeChild:jF,makeDyn:uM,addChild:gM}},TM=HD(Sr),qD=function(n){return{ids:function(){var r=Tt(n)(),a=$(me)(as(os(us))({newSeed:B_(r),size:5}));return A(mn)(re(nr(Zr)(1))(n))(),a},makeElement:bM,attributeParent:JF,makeRoot:cM,makeText:rM,makePursx:sM,setProp:BF,setCb:function(t){return function(r){return _(jn)(void 0)}},setText:HF,sendToPos:ID,deleteFromCache:XF,giveNewParent:GF,removeChild:zF,makeDyn:iM,addChild:TM}};var CM=function(n){return n};var Gt=function(n){return{pursxToElement:function(t){return function(r){return function(a){return{cache:Dr,element:function(e){return function(o){return Cn(J(n))}}}}}}}},Ms=function(n){return n.pursxToElement},ir=function(){return function(n){return function(t){return function(r){return function(a){return{pursxToElement:function(e){return function(o){return function(i){var f=Ms(n)(e)(w.value)(i);return{cache:Ja(Ke(t)(w.value))(!0)(f.cache),element:function(c){return function(l){return Y(qn(a.MonadST5().Monad0().Applicative0()))(d(yt)(oe(jr)(Xf)(function(p){if(p.value instanceof Ci)return l.setProp({id:Io(Ke(t)(w.value))(e),key:p.key,parent:c.parent,value:p.value.value0,scope:c.scope});if(p.value instanceof hi)return l.setCb({id:Io(Ke(t)(w.value))(e),key:p.key,parent:c.parent,value:p.value.value0,scope:c.scope});throw new Error("Failed pattern match at Deku.Pursx (line 4732, column 38 - line 4746, column 24): "+[p.value.constructor.name])}))(tc(r)()(w.value)(i)))(f.element(c)(l))}}}}}}}}}}}};var ut=CM,xs=function(n){return function(t){return function(){return function(){return function(r){return function(a){return function(e){return function(o){return function(i){var f=function(c){return function(l){return Mr(function(p){return b(r.MonadST5().Monad0().Bind1())(l.ids)(function(v){return b(r.MonadST5().Monad0().Bind1())(l.ids)(function(D){return $n(kn)(r.MonadST5().Monad0().Bind1())(c.raiseId(v)(c.scope))(function(){var u=Ms(a)(D)(w.value)(i);return d(r.MonadST5().Monad0().Bind1().Apply0().Functor0())(function(y){return en(r.MonadST5().Monad0().Bind1().Apply0())(p(l.deleteFromCache({id:v})))(y)})(er(Y(qn(r.MonadST5().Monad0().Applicative0()))(R(r.MonadST5().Monad0().Applicative0())(l.makePursx({id:v,cache:u.cache,parent:c.parent,pxScope:D,scope:c.scope,html:Ke(n)(o),verb:Ke(t)(e)})))(Y(qn(r.MonadST5().Monad0().Applicative0()))(function(){if(c.parent instanceof m)return R(r.MonadST5().Monad0().Applicative0())(l.attributeParent({id:v,parent:c.parent.value0}));if(c.parent instanceof s)return Cn(J(r.MonadST5().Monad0().Applicative0()));throw new Error("Failed pattern match at Deku.Pursx (line 4822, column 19 - line 4824, column 37): "+[c.parent.constructor.name])}())(u.element(c)(l))))(p))})})})})}};return new Wn(f)}}}}}}}}},Zt=function(n){return function(){return function(){return function(t){return function(r){return xs(n)({reflectType:function(){return"~"}})()()(r)(t)(w.value)}}}}},JD=function(n){return function(){return function(t){return function(r){return function(a){return Zt(n)()()(r)(t)(a)({})}}}}},hM=function(n){return za(n.MonadST5().Monad0().Applicative0())(n.MonadST5())({doLogic:function(t){return function(r){return function(a){return r.sendToPos({id:a,pos:t})}}},ids:function(){var t=Gn();return function(r){return function(a){return a.ids}(t(r))}}(),dynamicElementRemoved:function(t){return function(r){return t.removeChild({id:r.id,scope:r.scope})}},dynamicElementInserted:function(t){return function(r){return t.addChild({child:r.id,parent:r.parent})}},toElt:function(t){return t}})},it=function(){return function(n){return function(t){return function(r){return function(a){return{pursxToElement:function(e){return function(o){return function(i){var f=tc(r)()(w.value)(i),c=Ms(n)(e)(w.value)(i);return{cache:Ja(Ke(t)(w.value))(!1)(c.cache),element:function(l){return function(p){return Y(qn(a.MonadST5().Monad0().Applicative0()))(hM(a)({parent:new m(Io(Ke(t)(w.value))(e)),scope:l.scope,raiseId:function(v){return function(D){return _(a.MonadST5().Monad0().Applicative0())(void 0)}}})(p)(f))(c.element(l)(p))}}}}}}}}}}}};function zD(n){return n.target}function Kt(n){return function(){return n.preventDefault()}}var jc=function(n){return mt(zD(n))};var MM=function(){return w.value}(),VD=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>A Simple Component</h1>

  <h3>Slightly more bells and whistles</h3>
  <p>
    Let's look at an example with several different DOM tags.
  </p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h1>Creating an element</h1>
  <p>To create an element, like for example a <code>span</code> element, the pattern goes like this:</p>

  <pre><code>mySpanWithAttrs = D.span attrs children
mySpanWithNoAttrs = D.span_ children
myDivWithNoChildren = D.div attrs blank
</code></pre>

  <p><code>attrs</code> contains attributes of type <code>Event (Attribute element)</code>, where <code>element</code> is the current element you're assigning attributes to. You never have to specify this type: it is inferred automatically by the attribute creation operator, aka <code>:=</code>. If you use an attribute that's unsupported by an element, the compiler will complain.</p>

  <p>For now, children is an array of children, not unlike Halogen or React sans JSX. We'll see some other types of children later in this guide.</p>

  <h1>Attributes</h1>
  <p>Attributes like an element's style or id are specified as the first argument to an element. Attributes are just <a href="https://github.com/mikesol/purescript-event/blob/master/src/FRP/Event.purs"><code>Event</code>-s</a>, so you can <code>bang</code> them to make them happen <i>now</i>, combine two event streams with <code>alt</code> to compose events, etc.</p>

  <p>As an example, we made the input a range slider using <code>bang (Xtype := "range")</code>. Unlike Halogen, there are no checks to make sure you give a valid string. So if you want your range slider to have the value of true, you can. One day, I may build some validators, but passing strings works decently well here.</p>

  <h2>Next steps</h2>
  <p>In this section, we built a simple component. In the next section, we'll recreate the exact same element using a different input syntax called <a ~next~ style="cursor:pointer;">Pursx</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(MM)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Deku.Attribute ((:=))
import Deku.Control (text_)
import Deku.DOM as D
import Deku.Toplevel (runInBodyA)
import Effect (Effect)
import FRP.Event.Class (bang)

main :: Effect Unit
main = runInBodyA
  ( [ D.button_ [ text_ "I do nothing" ]
    , D.ul_ $ map (D.li_ <<< pure <<< text_) [ "A", "B", "C" ]
    , D.div_
        [ D.a (bang $ D.Href := "https://example.com")
            [ text_ "foo " ]
        , D.i_ [ text_ " bar " ]
        , D.span (bang $ D.Style := "font-weight: 800;")
            [ text_ " baz" ]
        ]
    , D.div_
        [ D.div_
            [ D.div_ [ D.input (bang $ D.Xtype := "range") [] ]
            ]
        ]
    ]
  )`)])])),result:ut(Xn(t)([uv(t)([Hn(t.MonadST5().Monad0())("I do nothing")]),cv(t)(d(ft)(function(){var r=fv(t),a=_(no),e=Hn(t.MonadST5().Monad0());return function(o){return r(a(e(o)))}}())(["A","B","C"])),Xn(t)([lc(t)(R(t.MonadST5().Monad0().Applicative0())(G(Yt)(Qt.value)("https://example.com")))([Hn(t.MonadST5().Monad0())("foo ")]),iv(t)([Hn(t.MonadST5().Monad0())(" bar ")]),Eo(t)(R(t.MonadST5().Monad0().Applicative0())(G(Du)(Ir.value)("font-weight: 800;")))([Hn(t.MonadST5().Monad0())(" baz")])]),Xn(t)([Xn(t)([Xn(t)([ja(t)(R(t.MonadST5().Monad0().Applicative0())(G(sc)(yu.value)("range")))([])])])])])),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(Tu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"pursx1/")])})}};function jD(n,t,r,a,e){return function(o,i){var f=n.newXHR(),c=n.fixupUrl(e.url,f);if(f.open(e.method||"GET",c,!0,e.username,e.password),e.headers)try{for(var l=0,p;(p=e.headers[l])!=null;l++)f.setRequestHeader(p.field,p.value)}catch(D){o(D)}var v=function(D){return function(){o(new Error(D))}};return f.onerror=v(r),f.ontimeout=v(t),f.onload=function(){i({status:f.status,statusText:f.statusText,headers:f.getAllResponseHeaders().split(`\r
`).filter(function(D){return D.length>0}).map(function(D){var u=D.indexOf(":");return a(D.substring(0,u))(D.substring(u+2))}),body:f.response})},f.responseType=e.responseType,f.withCredentials=e.withCredentials,f.timeout=e.timeout,f.send(e.content),function(D,u,y){try{f.abort()}catch(Rn){return u(Rn)}return y()}}}var Gc="application/json",GD="application/x-www-form-urlencoded";var QD=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),YD=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ZD=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),KD=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ny=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ws=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),As=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ty=function(n){return n instanceof ws?new m(GD):n instanceof As?new m(Gc):s.value};var Xc=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Qc=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ry=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),ey=function(n){if(n instanceof Xc)return Gn()(n.value0);if(n instanceof Qc)return Gn()(n.value0);if(n instanceof ry)return n.value1;throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): "+[n.constructor.name])};var Ss=function(n){if(n instanceof Xc)return"Accept";if(n instanceof Qc)return"Content-Type";if(n instanceof ry)return n.value0;throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): "+[n.constructor.name])};var Is=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ls=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ns=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Yi=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ps=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Yc=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ay=function(n){if(n instanceof Is)return"arraybuffer";if(n instanceof Ls)return"blob";if(n instanceof Ns)return"document";if(n instanceof Yi||n instanceof Ps)return"text";if(n instanceof Yc)return"";throw new Error("Failed pattern match at Affjax.ResponseFormat (line 44, column 3 - line 50, column 19): "+[n.constructor.name])},oy=function(n){return n instanceof Yi?new m(Gc):s.value};var uy=function(){return new Yi(X(z))}(),iy=function(){return new Yc(X(z))}();var cy=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();function $s(n){return JSON.stringify(n)}function ks(n){return function(t){return JSON.stringify(t,null,n)}}var ly=Dr;function sy(n,t,r){try{return t(JSON.parse(r))}catch(a){return n(a.message)}}var py=function(n){return sy(V.create,q.create,n)};function kM(n){return n.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}var my=function(t,r,a){try{return r(kM(encodeURIComponent(a)).replace(/%20/g,"+"))}catch(e){return t(e)}};var Zc=function(){return a_(my)(N(s.value))(m.create)}();var WM=function(n){return n};var dy=function(){var n=function(a){if(a.value1 instanceof s)return Zc(a.value0);if(a.value1 instanceof m)return hn(ao)(d(ct)(function(e){return function(o){return e+("="+o)}})(Zc(a.value0)))(Zc(a.value1.value0));throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 16 - line 39, column 114): "+[a.constructor.name])},t=d(ct)(R_("&")),r=Ct(dr)(Nt)(n);return function(a){return t(r(WM(a)))}}();var HM=function(){function n(){}return n.value=new n,n}(),Zi=function(){function n(){}return n.value=new n,n}(),BM=function(){function n(){}return n.value=new n,n}(),vy=function(){function n(){}return n.value=new n,n}(),Dy=function(){function n(){}return n.value=new n,n}(),yy=function(){function n(){}return n.value=new n,n}(),qM=function(){function n(){}return n.value=new n,n}(),JM=function(){function n(){}return n.value=new n,n}(),zM=function(){function n(){}return n.value=new n,n}(),VM=function(){function n(){}return n.value=new n,n}(),jM=function(){function n(){}return n.value=new n,n}(),GM=function(){function n(){}return n.value=new n,n}(),XM=function(){function n(){}return n.value=new n,n}(),QM=function(){function n(){}return n.value=new n,n}(),YM=function(){function n(){}return n.value=new n,n}(),by=function(){function n(){}return n.value=new n,n}();var ZM=function(n){return n},KM={show:function(n){if(n instanceof HM)return"OPTIONS";if(n instanceof Zi)return"GET";if(n instanceof BM)return"HEAD";if(n instanceof vy)return"POST";if(n instanceof Dy)return"PUT";if(n instanceof yy)return"DELETE";if(n instanceof qM)return"TRACE";if(n instanceof JM)return"CONNECT";if(n instanceof zM)return"PROPFIND";if(n instanceof VM)return"PROPPATCH";if(n instanceof jM)return"MKCOL";if(n instanceof GM)return"COPY";if(n instanceof XM)return"MOVE";if(n instanceof QM)return"LOCK";if(n instanceof YM)return"UNLOCK";if(n instanceof by)return"PATCH";throw new Error("Failed pattern match at Data.HTTP.Method (line 43, column 1 - line 59, column 23): "+[n.constructor.name])}};var gy=ve($(KM))(ZM);var Xr=function(){var n={},t="Pure",r="Throw",a="Catch",e="Sync",o="Async",i="Bind",f="Bracket",c="Fork",l="Sequential",p="Map",v="Apply",D="Alt",u="Cons",y="Resume",Rn="Release",Mt="Finalizer",wr="Finalized",Kn="Forked",he="Fiber",br="Thunk";function H(O,Jn,Rt,nt){this.tag=O,this._1=Jn,this._2=Rt,this._3=nt}function fr(O){var Jn=function(Rt,nt,K){return new H(O,Rt,nt,K)};return Jn.tag=O,Jn}function Wu(O){return new H(t,void 0)}function hb(O){try{O()}catch(Jn){setTimeout(function(){throw Jn},0)}}function Eb(O,Jn,Rt){try{return Jn(Rt())}catch(nt){return O(nt)}}function Fb(O,Jn,Rt){try{return Jn(Rt)()}catch(nt){return Rt(O(nt))(),Wu}}var nf=function(){var O=1024,Jn=0,Rt=0,nt=new Array(O),K=!1;function I(){var Yn;for(K=!0;Jn!==0;)Jn--,Yn=nt[Rt],nt[Rt]=void 0,Rt=(Rt+1)%O,Yn();K=!1}return{isDraining:function(){return K},enqueue:function(Yn){var wn,Lt;Jn===O&&(Lt=K,I(),K=Lt),nt[(Rt+Jn)%O]=Yn,Jn++,K||I()}}}();function Mb(O){var Jn={},Rt=0,nt=0;return{register:function(K){var I=Rt++;K.onComplete({rethrow:!0,handler:function(Yn){return function(){nt--,delete Jn[I]}}})(),Jn[I]=K,nt++},isEmpty:function(){return nt===0},killAll:function(K,I){return function(){if(nt===0)return I();var Yn=0,wn={};function Lt(_t){wn[_t]=Jn[_t].kill(K,function(Ht){return function(){delete wn[_t],Yn--,O.isLeft(Ht)&&O.fromLeft(Ht)&&setTimeout(function(){throw O.fromLeft(Ht)},0),Yn===0&&I()}})()}for(var cr in Jn)Jn.hasOwnProperty(cr)&&(Yn++,Lt(cr));return Jn={},Rt=0,nt=0,function(_t){return new H(e,function(){for(var Ht in wn)wn.hasOwnProperty(Ht)&&wn[Ht]()})}}}}}var Po=0,Ur=1,tf=2,rf=3,ef=4,Qr=5,Uu=6;function il(O,Jn,Rt){var nt=0,K=Po,I=Rt,Yn=null,wn=null,Lt=null,cr=null,_t=null,Ht=0,Ya=0,ce=null,xa=!0;function wa(nn){for(var rn,On,Bn;;)switch(rn=null,On=null,Bn=null,K){case tf:K=Ur;try{I=Lt(I),cr===null?Lt=null:(Lt=cr._1,cr=cr._2)}catch(gr){K=Qr,Yn=O.left(gr),I=null}break;case rf:O.isLeft(I)?(K=Qr,Yn=I,I=null):Lt===null?K=Qr:(K=tf,I=O.fromRight(I));break;case Ur:switch(I.tag){case i:Lt&&(cr=new H(u,Lt,cr)),Lt=I._2,K=Ur,I=I._1;break;case t:Lt===null?(K=Qr,I=O.right(I._1)):(K=tf,I=I._1);break;case e:K=rf,I=Eb(O.left,O.right,I._1);break;case o:K=ef,I=Fb(O.left,I._1,function(gr){return function(){nt===nn&&(nt++,nf.enqueue(function(){nt===nn+1&&(K=rf,I=gr,wa(nt))}))}});return;case r:K=Qr,Yn=O.left(I._1),I=null;break;case a:Lt===null?_t=new H(u,I,_t,wn):_t=new H(u,I,new H(u,new H(y,Lt,cr),_t,wn),wn),Lt=null,cr=null,K=Ur,I=I._1;break;case f:Ht++,Lt===null?_t=new H(u,I,_t,wn):_t=new H(u,I,new H(u,new H(y,Lt,cr),_t,wn),wn),Lt=null,cr=null,K=Ur,I=I._1;break;case c:K=rf,rn=il(O,Jn,I._2),Jn&&Jn.register(rn),I._1&&rn.run(),I=O.right(rn);break;case l:K=Ur,I=wb(O,Jn,I._1);break}break;case Qr:if(Lt=null,cr=null,_t===null)K=Uu,I=wn||Yn||I;else switch(rn=_t._3,Bn=_t._1,_t=_t._2,Bn.tag){case a:wn&&wn!==rn&&Ht===0?K=Qr:Yn&&(K=Ur,I=Bn._2(O.fromLeft(Yn)),Yn=null);break;case y:wn&&wn!==rn&&Ht===0||Yn?K=Qr:(Lt=Bn._1,cr=Bn._2,K=tf,I=O.fromRight(I));break;case f:Ht--,Yn===null&&(On=O.fromRight(I),_t=new H(u,new H(Rn,Bn._2,On),_t,rn),(wn===rn||Ht>0)&&(K=Ur,I=Bn._3(On)));break;case Rn:_t=new H(u,new H(wr,I,Yn),_t,wn),K=Ur,wn&&wn!==rn&&Ht===0?I=Bn._1.killed(O.fromLeft(wn))(Bn._2):Yn?I=Bn._1.failed(O.fromLeft(Yn))(Bn._2):I=Bn._1.completed(O.fromRight(I))(Bn._2),Yn=null,Ht++;break;case Mt:Ht++,_t=new H(u,new H(wr,I,Yn),_t,wn),K=Ur,I=Bn._1;break;case wr:Ht--,K=Qr,I=Bn._1,Yn=Bn._2;break}break;case Uu:for(var Wt in ce)ce.hasOwnProperty(Wt)&&(xa=xa&&ce[Wt].rethrow,hb(ce[Wt].handler(I)));ce=null,wn&&Yn?setTimeout(function(){throw O.fromLeft(Yn)},0):O.isLeft(I)&&xa&&setTimeout(function(){if(xa)throw O.fromLeft(I)},0);return;case Po:K=Ur;break;case ef:return}}function Ot(nn){return function(){if(K===Uu)return xa=xa&&nn.rethrow,nn.handler(I)(),function(){};var rn=Ya++;return ce=ce||{},ce[rn]=nn,function(){ce!==null&&delete ce[rn]}}}function ln(nn,rn){return function(){if(K===Uu)return rn(O.right(void 0))(),function(){};var On=Ot({rethrow:!1,handler:function(){return rn(O.right(void 0))}})();switch(K){case Po:wn=O.left(nn),K=Uu,I=wn,wa(nt);break;case ef:wn===null&&(wn=O.left(nn)),Ht===0&&(K===ef&&(_t=new H(u,new H(Mt,I(nn)),_t,wn)),K=Qr,I=null,Yn=null,wa(++nt));break;default:wn===null&&(wn=O.left(nn)),Ht===0&&(K=Qr,I=null,Yn=null)}return On}}function Sn(nn){return function(){var rn=Ot({rethrow:!1,handler:nn})();return K===Po&&wa(nt),rn}}return{kill:ln,join:Sn,onComplete:Ot,isSuspended:function(){return K===Po},run:function(){K===Po&&(nf.isDraining()?wa(nt):nf.enqueue(function(){wa(nt)}))}}}function xb(O,Jn,Rt,nt){var K=0,I={},Yn=0,wn={},Lt=new Error("[ParAff] Early exit"),cr=null,_t=n;function Ht(Ot,ln,Sn){var nn=ln,rn=null,On=null,Bn=0,Wt={},gr,Hu;n:for(;;)switch(gr=null,nn.tag){case Kn:if(nn._3===n&&(gr=I[nn._1],Wt[Bn++]=gr.kill(Ot,function(Ab){return function(){Bn--,Bn===0&&Sn(Ab)()}})),rn===null)break n;nn=rn._2,On===null?rn=null:(rn=On._1,On=On._2);break;case p:nn=nn._2;break;case v:case D:rn&&(On=new H(u,rn,On)),rn=nn,nn=nn._1;break}if(Bn===0)Sn(O.right(void 0))();else for(Hu=0,gr=Bn;Hu<gr;Hu++)Wt[Hu]=Wt[Hu]();return Wt}function Ya(Ot,ln,Sn){var nn,rn,On,Bn,Wt,gr;O.isLeft(Ot)?(nn=Ot,rn=null):(rn=Ot,nn=null);n:for(;;){if(On=null,Bn=null,Wt=null,gr=null,cr!==null)return;if(ln===null){nt(nn||rn)();return}if(ln._3!==n)return;switch(ln.tag){case p:nn===null?(ln._3=O.right(ln._1(O.fromRight(rn))),rn=ln._3):ln._3=nn;break;case v:if(On=ln._1._3,Bn=ln._2._3,nn){if(ln._3=nn,Wt=!0,gr=Yn++,wn[gr]=Ht(Lt,nn===On?ln._2:ln._1,function(){return function(){delete wn[gr],Wt?Wt=!1:Sn===null?Ya(nn,null,null):Ya(nn,Sn._1,Sn._2)}}),Wt){Wt=!1;return}}else{if(On===n||Bn===n)return;rn=O.right(O.fromRight(On)(O.fromRight(Bn))),ln._3=rn}break;case D:if(On=ln._1._3,Bn=ln._2._3,On===n&&O.isLeft(Bn)||Bn===n&&O.isLeft(On))return;if(On!==n&&O.isLeft(On)&&Bn!==n&&O.isLeft(Bn))nn=rn===On?Bn:On,rn=null,ln._3=nn;else if(ln._3=rn,Wt=!0,gr=Yn++,wn[gr]=Ht(Lt,rn===On?ln._2:ln._1,function(){return function(){delete wn[gr],Wt?Wt=!1:Sn===null?Ya(rn,null,null):Ya(rn,Sn._1,Sn._2)}}),Wt){Wt=!1;return}break}Sn===null?ln=null:(ln=Sn._1,Sn=Sn._2)}}function ce(Ot){return function(ln){return function(){delete I[Ot._1],Ot._3=ln,Ya(ln,Ot._2._1,Ot._2._2)}}}function xa(){var Ot=Ur,ln=Rt,Sn=null,nn=null,rn,On;n:for(;;)switch(rn=null,On=null,Ot){case Ur:switch(ln.tag){case p:Sn&&(nn=new H(u,Sn,nn)),Sn=new H(p,ln._1,n,n),ln=ln._2;break;case v:Sn&&(nn=new H(u,Sn,nn)),Sn=new H(v,n,ln._2,n),ln=ln._1;break;case D:Sn&&(nn=new H(u,Sn,nn)),Sn=new H(D,n,ln._2,n),ln=ln._1;break;default:On=K++,Ot=Qr,rn=ln,ln=new H(Kn,On,new H(u,Sn,nn),n),rn=il(O,Jn,rn),rn.onComplete({rethrow:!1,handler:ce(ln)})(),I[On]=rn,Jn&&Jn.register(rn)}break;case Qr:if(Sn===null)break n;Sn._1===n?(Sn._1=ln,Ot=Ur,ln=Sn._2,Sn._2=n):(Sn._2=ln,ln=Sn,nn===null?Sn=null:(Sn=nn._1,nn=nn._2))}for(_t=ln,On=0;On<K;On++)I[On].run()}function wa(Ot,ln){cr=O.left(Ot);var Sn;for(var nn in wn)if(wn.hasOwnProperty(nn)){Sn=wn[nn];for(nn in Sn)Sn.hasOwnProperty(nn)&&Sn[nn]()}wn=null;var rn=Ht(Ot,_t,ln);return function(On){return new H(o,function(Bn){return function(){for(var Wt in rn)rn.hasOwnProperty(Wt)&&rn[Wt]();return Wu}})}}return xa(),function(Ot){return new H(o,function(ln){return function(){return wa(Ot,ln)}})}}function wb(O,Jn,Rt){return new H(o,function(nt){return function(){return xb(O,Jn,Rt,nt)}})}return H.EMPTY=n,H.Pure=fr(t),H.Throw=fr(r),H.Catch=fr(a),H.Sync=fr(e),H.Async=fr(o),H.Bind=fr(i),H.Bracket=fr(f),H.Fork=fr(c),H.Seq=fr(l),H.ParMap=fr(p),H.ParApply=fr(v),H.ParAlt=fr(D),H.Fiber=il,H.Supervisor=Mb,H.Scheduler=nf,H.nonCanceler=Wu,H}(),Cy=Xr.Pure,hy=Xr.Throw;function Ey(n){return function(t){return Xr.Catch(n,t)}}function Fy(n){return function(t){return t.tag===Xr.Pure.tag?Xr.Pure(n(t._1)):Xr.Bind(t,function(r){return Xr.Pure(n(r))})}}function My(n){return function(t){return Xr.Bind(n,t)}}var xy=Xr.Sync;var Ki=Xr.Async;function wy(n,t){return function(){return Xr.Fiber(n,null,t)}}var nx=function(){function n(r,a){return r===0&&typeof setImmediate<"u"?setImmediate(a):setTimeout(a,r)}function t(r,a){return r===0&&typeof clearImmediate<"u"?clearImmediate(a):clearTimeout(a)}return function(r,a){return Xr.Async(function(e){return function(){var o=n(a,e(r()));return function(){return Xr.Sync(function(){return r(t(a,o))})}}})}}(),tx=Xr.Seq;var Ru={proof:function(n){return n},Coercible0:function(){}};var Ws=function(n){return n},Us=function(n){return n};var Sy=function(n){return{lift:function(t){return function(r){return b(t.Bind1())(r)(function(a){return _(t.Applicative0())(new h(a,En(n)))})}}}},Kc=function(n){return function(t){return n(t)}},cx=function(n){return{map:function(t){return Kc(d(n)(function(r){return new h(t(r.value0),r.value1)}))}}},Hs=function(n){return function(t){return d(n)(Pt)(t)}},Iy=function(n){return function(t){return{apply:function(r){return function(a){var e=function(o){return function(i){return new h(o.value0(i.value0),M(n)(o.value1)(i.value1))}};return hn(t)(d(t.Functor0())(e)(r))(a)}},Functor0:function(){return cx(t.Functor0())}}}},Bs=function(n){return function(t){return{bind:function(r){return function(a){return b(t)(r)(function(e){var o=a(e.value0);return d(t.Apply0().Functor0())(function(i){return new h(i.value0,M(n)(e.value1)(i.value1))})(o)})}},Apply0:function(){return Iy(n)(t.Apply0())}}}};var No=function(n){return function(t){return{pure:function(r){return _(t)(new h(r,En(n)))},Apply0:function(){return Iy(n.Semigroup0())(t.Apply0())}}}},Ly=function(n){return function(t){return{Applicative0:function(){return No(n)(t.Applicative0())},Bind1:function(){return Bs(n.Semigroup0())(t.Bind1())}}}};var nl=function(n){return function(t){return{tell:function(){var r=_(t.Applicative0()),a=h.create(void 0);return function(e){return Ws(r(a(e)))}}(),Semigroup0:n.Semigroup0,Monad1:function(){return Ly(n)(t)}}}};var dx=function(n,t,r){var a=0,e;return function(o){if(a===2)return e;if(a===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return a=1,e=r(),a=2,e}};var zs={map:Fy};var vx=function(){var n=function(a){if(a instanceof q)return a.value0;if(a instanceof V)return Te("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 407, column 21 - line 409, column 54): "+[a.constructor.name])},t=function(a){if(a instanceof V)return a.value0;if(a instanceof q)return Te("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 402, column 20 - line 404, column 55): "+[a.constructor.name])},r=function(a){if(a instanceof V)return!0;if(a instanceof q)return!1;throw new Error("Failed pattern match at Effect.Aff (line 397, column 12 - line 399, column 21): "+[a.constructor.name])};return{isLeft:r,fromLeft:t,fromRight:n,left:V.create,right:q.create}}(),Dx=function(n){return wy(vx,n)},yx=function(n){return function(){var r=Dx(n)();return r.run(),r}},$y=function(){var n=A(U);return function(t){return n(yx(t))}}();var Vs={Applicative0:function(){return tl},Bind1:function(){return js}},js={bind:My,Apply0:function(){return ky(0)}},tl={pure:Cy,Apply0:function(){return ky(0)}},ky=dx("applyAff","Effect.Aff",function(){return{apply:de(Vs),Functor0:function(){return zs}}});var Gs={liftEffect:xy,Monad0:function(){return Vs}};var bx={throwError:hy,Monad0:function(){return Vs}},Ry={catchError:Ey,MonadThrow0:function(){return bx}};var Oy=N(_(tl)(void 0));var Wy=function(n){return Ki(function(t){return function(){var a=n(function(e){return t(V.create(e))()},function(e){return t(q.create(e))()});return function(e){return Ki(function(o){return function(){return a(e,function(f){return o(V.create(f))()},function(f){return o(q.create(f))()}),Oy}})}}})};var Qs=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ys=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),Zs=function(){function n(){}return n.value=new n,n}(),Ks=function(){function n(){}return n.value=new n,n}(),np=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Uy=function(n){return function(t){var r=function(p){return p===""?_(Ca(Dt))(ly):ve(function(){var v=qi(Dt);return function(D){return v(Lc.create(D))}}())(_(Ca(Dt)))(py(p))},a=function(){if(t.responseFormat instanceof Is)return Xa(Dt)("ArrayBuffer");if(t.responseFormat instanceof Ls)return Xa(Dt)("Blob");if(t.responseFormat instanceof Ns)return function(p){return Y(xc(Wf)(Dt))(Xa(Dt)("Document")(p))(Y(xc(Wf)(Dt))(Xa(Dt)("XMLDocument")(p))(Xa(Dt)("HTMLDocument")(p)))};if(t.responseFormat instanceof Yi)return Qu(Hi(Dt))(function(p){return t.responseFormat.value0(r(p))})(Xa(Dt)("String"));if(t.responseFormat instanceof Ps)return Xa(Dt)("String");if(t.responseFormat instanceof Yc)return N(t.responseFormat.value0(_(Ca(Dt))(void 0)));throw new Error("Failed pattern match at Affjax (line 274, column 18 - line 283, column 57): "+[t.responseFormat.constructor.name])}(),e=function(p){if(p instanceof QD)return new q(p.value0(Ea));if(p instanceof YD)return new q(Ea(p.value0));if(p instanceof ZD)return new q(Ea(p.value0));if(p instanceof KD)return new q(Ea(p.value0));if(p instanceof ny)return new q(Ea(p.value0));if(p instanceof ws)return mf("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(d(ct)(Ea)(dy(p.value0)));if(p instanceof As)return new q(Ea($s(p.value0)));throw new Error("Failed pattern match at Affjax (line 235, column 20 - line 250, column 69): "+[p.constructor.name])},o=function(p){return function(v){return p instanceof m&&!$a(k)(ur)(fl(bn(Ee))(Ss)(p.value0))(v)?Pf(v)(p.value0):v}},i=function(p){return o(d(ct)(Qc.create)(we(pr)(ty)(p)))(o(d(ct)(Xc.create)(oy(t.responseFormat)))(t.headers))},f=function(p){return{method:gy(t.method),url:t.url,headers:d(ft)(function(v){return{field:Ss(v),value:ey(v)}})(i(t.content)),content:p,responseType:ay(t.responseFormat),username:ha(t.username),password:ha(t.password),withCredentials:t.withCredentials,timeout:sr(0)(d(ct)(function(v){return v})(t.timeout))}},c=function(p){return le(zs)(vc(Ry)(Wy(jD(n,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",cy.create,f(p)))))(function(v){if(v instanceof q){var D=z_(a(v.value0.body));if(D instanceof V)return new V(new Ys(kv(D.value0),v.value0));if(D instanceof q)return new q({body:D.value0,headers:v.value0.headers,status:v.value0.status,statusText:v.value0.statusText});throw new Error("Failed pattern match at Affjax (line 209, column 9 - line 211, column 52): "+[D.constructor.name])}if(v instanceof V)return new V(function(){var u=wu(v.value0),y=u==="AffjaxTimeoutErrorMessageIdent";if(y)return Zs.value;var Rn=u==="AffjaxRequestFailedMessageIdent";return Rn?Ks.value:new np(v.value0)}());throw new Error("Failed pattern match at Affjax (line 207, column 144 - line 219, column 28): "+[v.constructor.name])})};if(t.content instanceof s)return c(ha(s.value));if(t.content instanceof m){var l=e(t.content.value0);if(l instanceof q)return c(ha(new m(l.value0)));if(l instanceof V)return _(tl)(new V(new Qs(l.value0)));throw new Error("Failed pattern match at Affjax (line 199, column 7 - line 203, column 48): "+[l.constructor.name])}throw new Error("Failed pattern match at Affjax (line 195, column 3 - line 203, column 48): "+[t.content.constructor.name])}},tp=function(n){if(n instanceof Qs)return"There was a problem with the request content: "+n.value0;if(n instanceof Ys)return"There was a problem with the response body: "+Ic(n.value0);if(n instanceof Zs)return"There was a problem making the request: timeout";if(n instanceof Ks)return"There was a problem making the request: request failed";if(n instanceof np)return"There was a problem making the request: "+wu(n.value0);throw new Error("Failed pattern match at Affjax (line 113, column 14 - line 123, column 66): "+[n.constructor.name])},Qa=function(){return{method:new V(Zi.value),url:"/",headers:[],content:s.value,username:s.value,password:s.value,withCredentials:!1,responseFormat:iy,timeout:s.value}}();var rp={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(n){return n||"/"}};var By=Uy(rp);var Jy=function(){function n(){}return n.value=new n,n}(),ep=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),hx=function(){return w.value}(),qy="Click to get some random user data.",Ex=function(n){return pt(N(function(){return n(Jy.value)(),$y(b(js)(By({method:new V(Zi.value),url:"https://randomuser.me/api/",headers:Qa.headers,content:Qa.content,username:Qa.username,password:Qa.password,withCredentials:Qa.withCredentials,responseFormat:uy,timeout:Qa.timeout}))(function(r){if(r instanceof V)return fe(Gs)(n(new ep("GET /api response failed to decode: "+tp(r.value0))));if(r instanceof q)return fe(Gs)(n(new ep(ks(2)(r.value0.body))));throw new Error("Failed pattern match at Deku.Example.Docs.Effects (line 43, column 9 - line 50, column 48): "+[r.constructor.name])}))()}))},zy=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Effects</h1>

  <h2>Let's make a network call</h2>
  <p>
    This example is similar to the previous one in its design: the looping function is called in response to an event. The difference is that the response isn't immediate. Instead, we wait for the result of a network call.
  </p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h2>Arbitrary effects</h2>
  <p>Because all event listeners execute in the <code>Effect</code> monad, you can do more or less whatever you want. Make a network call, run a monad transformer stack just for fun, play music using <a href="https://github.com/mikesol/purescript-wags">purescript-wags</a>. The sky's the limit!</p>

  <p>Another useful pattern when working with effects is to throttle input. For example, if we are making a network call, we may want to show a loading indicator and prevent additional network calls. This can be achieved by setting the callback to a no-op while the network call is executing, as shown in the example above.</p>

  <h2>Next steps</h2>
  <p>It is also possible to handle events (and by extension effectful actions in events, like network calls) in Pursx. Let's see how in the <a ~next~ style="cursor:pointer;">second Pursx section</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(hx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Affjax.ResponseFormat as ResponseFormat
import Affjax.Web as AX
import Control.Alt ((<|>))
import Data.Argonaut.Core (stringifyWithIndent)
import Data.Either (Either(..))
import Data.Filterable (compact, filterMap)
import Data.HTTP.Method (Method(..))
import Data.Maybe (Maybe(..))
import Data.Profunctor (lcmap)
import Data.Tuple.Nested ((/\\))
import Deku.Attribute (Cb, cb, (:=))
import Deku.Control (text)
import Deku.DOM as D
import Deku.Toplevel (runInBody1)
import Effect (Effect)
import Effect.Aff (launchAff_)
import Effect.Class (liftEffect)
import FRP.Event (bang, bus, mapAccum)

data UIAction = Initial | Loading | Result String

clickCb :: (UIAction -> Effect Unit) -> Cb
clickCb push = cb
  ( const do
      push Loading
      launchAff_ $ do
        result <- AX.request
          ( AX.defaultRequest
              { url = "https://randomuser.me/api/"
              , method = Left GET
              , responseFormat = ResponseFormat.json
              }
          )
        case result of
          Left err -> liftEffect $ push
            $ Result
              ( "GET /api response failed to decode: " <>
                  AX.printError err
              )
          Right response -> liftEffect $ push $ Result $
            stringifyWithIndent 2 response.body
  )

clickText = "Click to get some random user data." :: String

main :: Effect Unit
main = runInBody1
  ( bus \\push -> lcmap (bang Initial <|> _)
      \\event ->
        let
          loadingOrResult = filterMap
            ( case _ of
                Loading -> Just $ Left unit
                Result s -> Just $ Right s
                _ -> Nothing
            )
            event
          loading = filterMap
            ( case _ of
                Left _ -> Just unit
                _ -> Nothing
            )
            loadingOrResult
          result = filterMap
            ( case _ of
                Right s -> Just s
                _ -> Nothing
            )
            loadingOrResult
        in
          D.div_
            [ D.div_
                [ D.button (bang (D.OnClick := clickCb push))
                    [ text
                        ( bang clickText
                            <|> (loading $> "Loading...")
                            <|> (result $> clickText)
                        )
                    ]
                ]
            , D.div
                ( (bang (D.Style := "display: none;")) <|>
                    ( compact
                        ( mapAccum
                            ( \\_ b -> (b && false) /\\
                                if b then Just unit else Nothing
                            )
                            result
                            true
                        ) $> (D.Style := "display: block;")
                    )
                )
                [ D.pre_ [ D.code_ [ text (bang "" <|> result) ] ] ]
            ]
  )
`)])])),result:ut(du(t)(t.Always2())(function(r){return function(a){var e=Rr(ke(t.MonadST5().Monad0().Applicative0()))(function(f){return f instanceof Jy?new m(new V(void 0)):f instanceof ep?new m(new q(f.value0)):s.value})(a),o=Rr(ke(t.MonadST5().Monad0().Applicative0()))(function(f){return f instanceof q?new m(f.value0):s.value})(e),i=Rr(ke(t.MonadST5().Monad0().Applicative0()))(function(f){return f instanceof V?new m(void 0):s.value})(e);return Xn(t)([Xn(t)([Or(t)(R(t.MonadST5().Monad0().Applicative0())(G(St)(bt.value)(Ex(r))))([ie(t.MonadST5().Monad0())(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(qy))(Y(qn(t.MonadST5().Monad0().Applicative0()))(Hr(yt)(i)("Loading..."))(Hr(yt)(o)(qy))))])]),I_(t)(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(G(S_)(Ir.value)("display: none;")))(Hr(yt)(bo(gi(t.MonadST5().Monad0().Applicative0()))(To(ht(t.MonadST5()))(function(f){return function(c){return new h(c&&!1,function(){return c?new m(void 0):s.value}())}})(o)(!0)))(G(S_)(Ir.value)("display: block;"))))([jt(t)([Vt(t)([ie(t.MonadST5().Monad0())(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(""))(o))])])])])}})),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(Cu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"pursx2/")])})}};var rl=function(){function n(){}return n.value=new n,n}();var el={attr:function(n){return function(t){return wt({key:"input",value:Co(t)})}}};var al=function(n){var t=Y(qn(n))(R(n)(G(sc)(yu.value)("range"))),r=d(yt)(function(a){return G(el)(rl.value)(pt(function(e){return xn(S)(yn)(b(pr)(jc(e))(Jc))(pf(Jr)(bs)(a))}))});return function(a){return t(r(a))}},ol=function(n){return function(t){return function(r){return d(n)(function(){var a=G(r)(bt.value);return function(e){return a(function(o){return o(En(t))}(e))}}())}}};var Mx=function(){return w.value}(),Gy=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Events</h1>

  <h2>Listening to the DOM</h2>
  <p>
    We'll spice up the previous example by adding an event listener to our button. When we do, Deku will keep track of how many times we clicked it. The same goes for a range slider, whose current value is displayed underneath it.
  </p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h2>Event handling</h2>
  <p>All DOM event handlers, like <code>OnClick</code> and <code>OnInput</code>, can be set with a value of type <code>Cb</code>. This type is a <code>newtype</code> around <code>(Event -> Effect Boolean)</code>. To hook the event up to the Deku event bus, you can use the <code>push</code> function within the event handler. The push function has a signature of <code>(push -> Effect Unit)</code>. Here, the type one can push in to <code>push</code> is UIEvents. Whenever a push happens, our <code>Event</code> receives it and all attributes are updated accordingly.</p>

  <h2>Next steps</h2>
  <p>In this section, saw how to react to events. In the next section, we'll use a similar mechanism to deal with arbitrary <a ~next~ style="cursor:pointer;">effects</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(Mx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Control.Alt ((<|>))
import Deku.Control (text, text_)
import Deku.DOM as D
import Deku.Listeners (click_, slider)
import Deku.Toplevel (runInBody1)
import Effect (Effect)
import FRP.Event (bang, fold)
import FRP.Event.VBus (V, vbus)
import Type.Proxy (Proxy(..))

type UIEvents = V
  ( buttonClicked :: Unit
  , sliderMoved :: Number
  )

main :: Effect Unit
main = runInBody1
  ( vbus (Proxy :: _ UIEvents) \\push event -> do
      D.div_
        [ D.button
            (click_ (bang push.buttonClicked))
            [ text_ "Click" ]
        , D.div_
            [ text
                ( bang "Val: 0" <|>
                    ( append "Val: " <<< show
                        <$> fold
                          (const (add 1))
                          (bang unit <|> event.buttonClicked)
                          (-1)
                    )
                )
            ]
        , D.div_
            [ D.input
                (slider (bang push.sliderMoved))
                []
            , D.div_
                [ text
                    ( bang "Val: 50.0" <|>
                        ( append "Val: " <<< show
                            <$> event.sliderMoved
                        )
                    )
                ]
            ]
        ]
  )
`)])])),result:ut(fc()(t)()(fu({reflectSymbol:function(){return"buttonClicked"}})(cu(lu(t.Always2())(Ru)))(fu({reflectSymbol:function(){return"sliderMoved"}})(cu(lu(t.Always2())(Ru)))(Qf)()())()())(su({reflectSymbol:function(){return"buttonClicked"}})()()(su({reflectSymbol:function(){return"sliderMoved"}})()()(ec)()()()())()()()())(w.value)(function(r){return function(a){return Xn(t)([Or(t)(ol(yt)(Kr)(vu)(R(t.MonadST5().Monad0().Applicative0())(r.buttonClicked)))([Hn(t.MonadST5().Monad0())("Click")]),Xn(t)([ie(t.MonadST5().Monad0())(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())("Val: 0"))(d(yt)(function(){var e=M(fa)("Val: "),o=$(me);return function(i){return e(o(i))}}())(qa(ht(t.MonadST5()))(N(nr(Zr)(1)))(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(void 0))(a.buttonClicked))(-1))))]),Xn(t)([ja(t)(al(t.MonadST5().Monad0().Applicative0())(R(t.MonadST5().Monad0().Applicative0())(r.sliderMoved)))([]),Xn(t)([ie(t.MonadST5().Monad0())(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())("Val: 50.0"))(d(yt)(function(){var e=M(fa)("Val: "),o=$(ju);return function(i){return e(o(i))}}())(a.sliderMoved)))])])])}})),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(Eu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"effects/")])})}};var Xy=function(){function n(){}return n.value=new n,n}();var Qy={attr:function(n){return function(t){return wt({key:"keyup",value:Co(t)})}}};function ap(n){return n.code}var Yy=L("KeyboardEvent");var Lx=function(){function n(){}return n.value=new n,n}(),op=function(){function n(){}return n.value=new n,n}(),Zy=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Nx=function(){return w.value}(),Ky=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Events 2</h1>

  <h2>Dynamic children</h2>
  <p>
    Up until now, our DOM has been static. This is OK in some cases, but in many cases, we need a dynamic DOM: one whose elements are inserted and removed based on user interaction. In Deku, we achieve this with <code>Event</code>-s.
  </p>

  <p>
    The code below creates a todo list that allows a user to add, prioritize, and remove elements.
  </p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h2>Events of events</h2>

  <p>In the previous sections, DOM element constructors like <code>div_</code> could only accept an <code>Array</code>. They <i>also</i> can accept an event of events. In this case, the outer event represents a dynamic element, and the inner event represents the <i>stage</i> of dynamism with a data type called <code>Child</code>. <code>Child</code> has three constructors:</p>

  <ul>
    <li><code>insert</code>, which takes an element.</li>
    <li><code>sendToTop</code>, which sends the current element to the top of its parent.</li>
    <li><code>remove</code>, which removes the element from its parent.</li>
  </ul>

  <p>The Deku engine listens for these in a specific order. <code>Insert</code> can be followed by 0 or more <code>SendToTop</code>-s. When a <code>Remove</code> is called, the stream is unsubscribed from the parent. Because we're in the land of <code>Event</code>-s, you can emit anything, but this is the how they will be listened to.</p>

  <h2>Next steps</h2>
  <p>In this section, we used nested events to insert and remove elements from a parent. In the next section, we'll see how we can use <a ~next~ style="cursor:pointer;">portals to move an element to a different place of the DOM</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(Nx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Control.Alt ((<|>))
import Data.Filterable (filterMap)
import Data.Foldable (for_, oneOfMap)
import Data.Maybe (Maybe(..))
import Data.Profunctor (lcmap)
import Data.Tuple.Nested ((/\\))
import Deku.Attribute (cb, (:=))
import Deku.Control (text_)
import Deku.Core (Child(..), dyn)
import Deku.DOM as D
import Deku.Toplevel (runInBody1)
import Effect (Effect)
import FRP.Event (bang, bus, keepLatest, mapAccum)
import Web.Event.Event (target)
import Web.HTML.HTMLInputElement (fromEventTarget, value)
import Web.UIEvent.KeyboardEvent (code, fromEvent)

data MainUIAction
  = UIShown
  | AddTodo
  | ChangeText String

data TodoAction = Prioritize | Delete

main :: Effect Unit
main = runInBody1
  ( bus \\push -> lcmap (bang UIShown <|> _) \\event -> do
      let
        top =
          [ D.input
              ( oneOfMap bang
                  [ D.OnInput := cb \\e -> for_
                      ( target e
                          >>= fromEventTarget
                      )
                      ( value
                          >=> push <<< ChangeText
                      )
                  , D.OnKeyup := cb
                      \\e -> for_ (fromEvent e) \\evt -> do
                        when (code evt == "Enter") $ do
                          push AddTodo
                  ]
              )
              []
          , D.button
              (bang $ D.OnClick := push AddTodo)
              [ text_ "Add" ]
          ]
      D.div_
        [ D.div_ top
        , D.div_
            [ dyn $
                map
                  ( \\txt -> keepLatest $ bus \\p' e' ->
                      ( bang $ Insert $ D.div_
                          [ text_ txt
                          , D.button
                              ( bang
                                  $ D.OnClick := p' SendToTop
                              )
                              [ text_ "Prioritize" ]
                          , D.button
                              ( bang
                                  $ D.OnClick := p' Remove
                              )
                              [ text_ "Delete" ]
                          ]
                      ) <|> e'
                  )
                  ( filterMap
                      ( \\(tf /\\ s) ->
                          if tf then Just s else Nothing
                      )
                      ( mapAccum
                          ( \\a b -> case a of
                              ChangeText s -> s /\\ (false /\\ s)
                              AddTodo -> b /\\ (true /\\ b)
                              _ -> "" /\\ (false /\\ "")
                          )
                          event
                          ""
                      )
                  )
            ]
        ]
  )
`)])])),result:ut(du(t)(t.Always2())(function(r){return oe(jr)(function(a){return Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(Lx.value))(a)})(function(a){return Xn(t)([Xn(t)([ja(t)($t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(rv)(Ir.value)("border-style:solid;border-width: 1px;border-color: black;"),G(el)(rl.value)(pt(function(e){return xn(S)(yn)(b(pr)(jc(e))(Jc))(pf(Jr)(Ds)(function(o){return r(Zy.create(o))}))})),G(Qy)(Xy.value)(pt(function(e){return xn(S)(yn)(Yy(e))(function(o){return _e(S)(ap(o)==="Enter")(r(op.value))})}))]))([]),Or(t)(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(G(cc)(Ir.value)("margin: 5px;")))(R(t.MonadST5().Monad0().Applicative0())(G(St)(bt.value)(pt(N(r(op.value)))))))([Hn(t.MonadST5().Monad0())("Add")])]),Xn(t)([uc(t)(d(yt)(function(e){return yi(ht(t.MonadST5()))(ho(t)(t.Always2())(function(o){return function(i){return Y(qn(t.MonadST5().Monad0().Applicative0()))(Gf(t)(Xn(t)([Eo(t)(R(t.MonadST5().Monad0().Applicative0())(G(Du)(Ir.value)("margin: 5px;")))([Hn(t.MonadST5().Monad0())(e)]),Or(t)(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(G(cc)(Ir.value)("margin: 5px;")))(R(t.MonadST5().Monad0().Applicative0())(G(St)(bt.value)(pt(N(o(Dd)))))))([Hn(t.MonadST5().Monad0())("Prioritize")]),Or(t)(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(G(cc)(Ir.value)("margin: 5px;")))(R(t.MonadST5().Monad0().Applicative0())(G(St)(bt.value)(pt(N(o(yd)))))))([Hn(t.MonadST5().Monad0())("Delete")])])))(i)}}))})(Rr(ke(t.MonadST5().Monad0().Applicative0()))(function(e){return e.value0?new m(e.value1):s.value})(To(ht(t.MonadST5()))(function(e){return function(o){return e instanceof Zy?new h(e.value0,new h(!1,e.value0)):e instanceof op?new h(o,new h(!0,o)):new h("",new h(!1,""))}})(a)(""))))])])})})),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(Mu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"portals/")])})}};var $x=function(){return w.value}(),nb=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Hello world</h1>

  <h3>A small example</h3>

  <p>Here is "hello world" in Deku. In this and all the following sections, we'll start with a full example, and we'll pick it apart afterwards.</p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <p>You gotta start somewhere!</p>

  <h2>Our top-level component</h2>

  <p>Deku sets up shop in an arbitrary DOM component. In the main function above, we use \u{1F680} to automatically insert our Deku tree into the body.</p>

  <h2>Next steps</h2>
  <p>Now that we have our setup running, let's make a more interesting <a ~next~ style="cursor:pointer;">component</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)($x)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Deku.Control (text_)
import Deku.Toplevel (runInBody)
import Effect (Effect)

main :: Effect Unit
main = runInBody (text_ "Hello world")
`)])])),result:ut(Xn(t)([Hn(t.MonadST5().Monad0())("Hello world")])),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(Gr(ht(t.MonadST5())))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(gu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"component/")])})}};var Rx=function(){return w.value}(),tb=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Deku</h1>

  <h3>A web micro-framework written in PureScript</h3>

  <p>Hi! You've found <a href="https://github.com/mikesol/purescript-deku">Deku</a>.</p>

  <p>Deku is the coolest web micro-framework that no one knows about yet. Except you, of course, as you're here. So welcome!</p>

  <p>The main goal of Deku is speed. I made it for the purpose of creating interactive web-based musical instruments, but it's equally useful as a general-purpose web framework. Its standard event-handling patterns tend to outperform those of React and Vue by a factor of 1.5-2x.</p>

  <p>This documentation is written in Deku and can be found <a href="https://github.com/mikesol/purescript-deku/tree/main/examples/docs">here</a>. One good way to follow along is by using the Deku starter repo, which you can clone <a href="https://github.com/mikesol/purescript-deku-starter">here</a>.</p>

  <p>And now, without further ado, check out the <a ~next~ style="cursor:pointer;">hello world section</a>!</p>
</div>`}})()()(ir()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))(t)(Rx)({next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(Gr(ht(t.MonadST5())))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(bu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"hello/")])})}};var rb=function(){function n(){}return n.value=new n,n}(),eb={attr:function(n){return function(t){return wt({key:"controls",value:vr(t)})}}};var ab=function(){function n(){}return n.value=new n,n}();var ob={attr:function(n){return function(t){return wt({key:"src",value:vr(t)})}}};var ub=function(){function n(){}return n.value=new n,n}(),ib={attr:function(n){return function(t){return wt({key:"width",value:vr(t)})}}};var fb=function(n){return function(t){return function(r){return new Wn(Et(n)("source")(t)(Ft(n)(r)))}}};var cb=function(n){return function(t){return function(r){return new Wn(Et(n)("video")(t)(Ft(n)(r)))}}};var Jx=function(){return w.value}(),lb=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Portals</h1>

  <h2>Zapping from place to place</h2>
  <p>
    Sometimes, we have referentially opaque nodes like videos or audio that we can't destroy and recreate when they need to move around the DOM. In these cases, we can use portals to "zap" nodes from one part of the DOM to another.
  </p>

  <p>
    The code below uses portals to flip two videos across a boundary. If you press play on either video, you'll see that it keeps playing uninterrupted, event when it is removed and reinserted.
  </p>

  ~code~

  <p>And here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h2>Events of portals</h2>

  <p>Portals work by sending a referentially-opaque reference to a DOM element into a closure where it can be safely used. Whenever an event is emitted containing the element, the element will be rendered at that place in the DOM, as in the example above. Note that portals "hog the blanket", meaning that they end up in the last place in which they were called.</p>

  <p><code>switcher</code> is a <a href="https://github.com/mikesol/purescript-deku/blob/ff3e2d2dc89b39088c5d5d6ab3492fb8730dd9a4/src/Deku/Control.purs#L325">small function</a> included in Deku to switch between different elements in an enclosure. It's how the tabs in this documentation are implemented as well.</p>

  <h2>Next steps</h2>
  <p>In this section, we used portals to move an element to different areas of the DOM. In the next section, we'll learn how to do <a ~next~ style="cursor:pointer;">static site rendering</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(Jx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Control.Alt ((<|>))
import Data.Foldable (oneOfMap)
import Data.Profunctor (lcmap)
import Data.Tuple.Nested ((/\\), type (/\\))
import Data.FastVect.FastVect (index, (:))
import Data.FastVect.FastVect as V
import Deku.Attribute ((:=))
import Deku.Control (portal, switcher, text_)
import Deku.DOM as D
import Deku.Toplevel (runInBody1)
import Effect (Effect)
import FRP.Event (Event, bang, bus, fold, mapAccum)
import Type.Prelude (Proxy(..))

counter :: forall a. Event a \u2192 Event (a /\\ Int)
counter event = mapAccum f event 0
  where
  f a b = (b + 1) /\\ (a /\\ b)

main :: Effect Unit
main = runInBody1
  ( bus \\push -> lcmap  (bang unit <|> _) \\event -> do
      portal
        ( map
            ( \\i -> D.video
                (oneOfMap bang [ D.Controls := "true", D.Width := "250" ])
                [D.source
                    (oneOfMap bang [ D.Src := i, D.Xtype := "video/mp4" ])
                    []
                ]
            )
            ( "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
                : "https://www.w3schools.com/jsref/movie.mp4"
                : V.empty
            )
        )
        \\v _ -> do
          let
            p0 = index (Proxy :: _ 0) v
            p1 = index (Proxy :: _ 1) v
            ev = fold (const not) event
            flips = switcher (if _ then p0 else p1) <<< ev
          D.div_
            [ D.button (bang $ D.OnClick := push unit)
                [ text_ "Switch videos" ]
            , D.div_ [ D.span_ [flips true], D.span_ [flips false] ]
            ]
  )
`)])])),result:ut(ic(t)(ho(t)(t.Always2())(function(r){return oe(jr)(Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(void 0)))(function(a){return nv()(t)(d(_u)(function(e){return cb(t)($t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(eb)(rb.value)("true"),G(ib)(ub.value)("250")]))([fb(t)($t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(ob)(ab.value)(e),G(ov)(yu.value)("video/mp4")]))([])])})(nc()()("https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4")(nc()()("https://www.w3schools.com/jsref/movie.mp4")(s_))))(function(e){return function(o){var i=Kf()()()()()({reflectType:function(){return 1}})(w.value)(e),f=Kf()()()()()({reflectType:function(){return 0}})(w.value)(e),c=qa(ht(t.MonadST5()))(N($r(ur)))(a),l=function(){var p=oc(t)(function(v){return v?f:i});return function(v){return p(c(v))}}();return Xn(t)([Or(t)(R(t.MonadST5().Monad0().Applicative0())(G(St)(bt.value)(pt(N(r(void 0))))))([Hn(t.MonadST5().Monad0())("Switch videos")]),Xn(t)([wi(t)([l(!0)]),wi(t)([l(!1)])])])}})})}))),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(xu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"ssr/")])})}};var Vx=function(){return w.value}(),jx=function(){return w.value}(),_b=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>PursX 1</h1>

  <h2>Like JSX... but better!</h2>

  <p>Writing out PureScript code for the DOM only really makes sense if you're doing some sort of interesting manipulations on the JS layer. Otherwise, it's pretty tedious and longer than HTML. Thankfully, there's a solution: PursX.</p>

  <p>PursX takes its name from JSX and it accomplishes a similar goal: the ability to embed HTML in your document. In the example below, we create the same exact component from the previous article, but in PursX.</p>

  ~code~

  <p>Here's what it produces:</p>

  <blockquote> ~result~ </blockquote>

  <h2>Puurrrrrr ...sx</h2>

  <p>Static Pursx (meaning Pursx without any dynamic content) can be activated with the function <code>psx</code>.</p>

  <h2>Next steps</h2>
  <p>In this section, we used PursX to build the same component as the previous section. In the next section, we'll learn how to respond to <a ~next~ style="cursor:pointer;">events</a>.</p>
</div>`}})()()(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(t)(Vx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Deku.Pursx (psx)
import Deku.Toplevel (runInBody)
import Effect (Effect)
import FRP.Event (bang)
import Type.Proxy (Proxy(..))

myDom = Proxy :: Proxy """<div>
    <button>I do nothing</button>
    <ul>
        <li>A</li>
        <li>B</li>
        <li>C</li>
    </ul>
    <div>
        <a href="https://github.com/mikesol/purescript-deku"></a>
        <i>bar</i>
        <span style="font-weight:800;">baz</span>
    </div>
    <div><div></div><div><input type="range"/></div></div>
    </div>
"""

main :: Effect Unit
main = runInBody (psx myDom)
`)])])),result:ut(JD({reflectType:function(){return`<div>
    <button>I do nothing</button>
    <ul>
        <li>A</li>
        <li>B</li>
        <li>C</li>
    </ul>
    <div>
        <a href="https://example.com">foo</a>
        <i>bar</i>
        <span style="font-weight:800;">baz</span>
    </div>
    <div><div></div><div><input type="range"/></div></div>
    </div>
`}})()(t)(Gt(t.MonadST5().Monad0().Applicative0()))(jx)),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(Gr(ht(t.MonadST5())))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(hu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"events1/")])})}};var Xx=function(){return w.value}(),Qx=function(){return w.value}(),sb=function(n){return function(t){return xs({reflectType:function(){return`<div>
  <h1>Pursx 2</h1>

  <h2>Working with events and effects</h2>
  <p>
    PursX would be of limited utility if it could only render static content. In this section, we'll see how to make it dynamic, both by modifying existing elements and inserting entirely new ones.
  </p>

  <p>The example below is the same one from the Pursx 1 section with two differences. The first is that the background color of the second list item is set dynamically. The second is that there is a new button that is dynamically inserted.
  </p>

  ?code?

  <p>And here's what it produces:</p>

  <blockquote> ?result? </blockquote>

  <h2>Dynamism in static content</h2>
  <p>Named slots for dynamic content are added to PursX with between two tildes, like <code>~foo~</code>. This separator doesn't have to be a tilde - it can be set programatically as well (see the Deku/Pursx.purs module for an example of how that is done). Also, we no longer use the <code>psx</code> command. Instead, we use the infix operator <code>~~</code> followed by arguments to our template. In the case of dynamic attributes, the argument is a stream of attributes. In the case of a dynamic section, the arguments are of type <code>Element</code>.</p>

  <h2>Next steps</h2>
  <p>In more complicated apps, like this documentation, we'll need dynamic logic that allows for components to replace each other, for example in a navigation bar. In the next section, we'll see one way to do this by using <a ?next? style="cursor:pointer;">events to control the presence and absence of elements</a>.</p>
</div>`}})({reflectType:function(){return"?"}})()()(t)(it()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"next"}})({reflectSymbol:function(){return"next"}})(t))({reflectType:function(){return"code"}})({reflectSymbol:function(){return"code"}})(t))(w.value)(Xx)({code:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Main where

import Prelude

import Control.Alt ((<|>))
import Data.Compactable (compact)
import Data.Maybe (Maybe(..))
import Deku.Attribute (cb, (:=))
import Deku.Control (text)
import Deku.DOM as D
import Deku.Pursx (nut, (~~))
import Deku.Toplevel (runInBody1)
import Effect (Effect)
import FRP.Event (bus, bang)
import Type.Proxy (Proxy(..))

myDom =
  Proxy :: Proxy """<div>
        <button>I do nothing</button>
        <ul>
          <li>A</li>
          <li ~myli~>B</li>
          <li>C</li>
        </ul>
        <div>
          <a href="https://github.com/mikesol/purescript-deku"></a>
          <i>bar</i>
          ~somethingNew~
          <span style="font-weight:800;">baz</span>
        </div>
        <div><div></div><div><input type="range"/></div></div>
      </div>
"""

main :: Effect Unit
main = runInBody1
  ( bus \\push event -> myDom ~~
      { myli: bang (D.Style := "background-color:rgb(200,240,210);")
      , somethingNew: nut
          ( D.button (bang (D.OnClick := push (Just unit)))
              [ text
                  $ (compact event $> "Thanks for clicking me!") <|>
                    bang "I was dynamically inserted"
              ]
          )
      }
  )`)])])),result:ut(uc(t)(ho(t)(t.Always2())(function(r){return function(a){return Gf(t)(Zt({reflectType:function(){return`<div>
        <button>I do nothing</button>
        <ul>
          <li>A</li>
          <li ~myli~>B</li>
          <li>C</li>
        </ul>
        <div>
          <a href="https://github.com/mikesol/purescript-deku"></a>
          <i>bar</i>
          ~somethingNew~
          <span style="font-weight:800;">baz</span>
        </div>
        <div><div></div><div><input type="range"/></div></div>
      </div>
`}})()()(ir()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"somethingNew"}})({reflectSymbol:function(){return"somethingNew"}})(t))({reflectType:function(){return"myli"}})({reflectSymbol:function(){return"myli"}})(t))(t)(Qx)({myli:R(t.MonadST5().Monad0().Applicative0())(G(tv)(Ir.value)("background-color:rgb(200,240,210);")),somethingNew:ut(Or(t)(R(t.MonadST5().Monad0().Applicative0())(G(vu)(bt.value)(r(new m(void 0)))))([ie(t.MonadST5().Monad0())(Y(qn(t.MonadST5().Monad0().Applicative0()))(Hr(yt)(bo(gi(t.MonadST5().Monad0().Applicative0()))(a))("Thanks for clicking me!"))(R(t.MonadST5().Monad0().Applicative0())("I was dynamically inserted")))]))}))}}))),next:$t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(r){return en(Zn)(en(Zn)(Kt(r))(n.dpage(Fu.value)))(yr)})),G(Yt)(Qt.value)(n.slug+"events2/")])})}};var Zx=function(n){return function(t){return function(r){return new Wn(Et(n)("p")(t)(Ft(n)(r)))}}},pb=function(n){return Zx(n)(Cn(J(n.MonadST5().Monad0().Applicative0())))};var up=n=>n.replace(/[\u00A0-\u9999<>\&]/g,function(t){return"&#"+t.charCodeAt(0)+";"});var tw=function(){var n=Gn();return function(t){return n(Us(t))}}();var mb=function(n){return Pt(tw(n))};var ew=function(n){return function(t){return{append:function(r){return function(a){return Kl(n)(M(t))(r)(a)}}}}};var ul=function(n){return function(t){return{mempty:yo,Semigroup0:function(){return ew(n)(t)}}}};var Ou=function(n){return function(t){return function(r){return function(){var e=At(r)(t.units)();return _n(_(jn)(""))(function(o){if(o instanceof Nn){if(o.value0.main instanceof Lo)return function(){var c=Tl(o.value0.main.value0.attributes)(),l="<"+(o.value0.main.value0.tag+(" "+(Ne(k)(Ae)(" ")(d(ft)(function(u){return u.key+('"'+(u.value+'"'))})(c))+(" data-deku-ssr-"+(r+'="true">'))))),p="</"+(o.value0.main.value0.tag+">"),v=sr([])(di(ar)(r)(n)),D=d(mn)(Pe(k)(Ae))(Ct(dr)(jn)(Ou(n)(t))(v))();return l+(D+p)};if(o.value0.main instanceof Qi){var i=wo(">")(o.value0.main.value0.html);return _(jn)(Pe(k)(Ae)(Nf(1)(i))+(" data-deku-ssr-"+(r+('="true">'+Ne(k)(Ae)(">")(ka(1)(i))))))}throw new Error("Failed pattern match at Deku.SSR (line 46, column 21 - line 71, column 44): "+[o.value0.main.constructor.name])}if(o instanceof Vn)return _(jn)("<!--"+(r+("-->"+up(Gn()(o.value0.main).text))));if(o instanceof Qn)return d(mn)(Pe(k)(Ae))(Ct(dr)(jn)(Ou(n)(t))(o.value0.children));if(o instanceof at)return d(mn)(Pe(yn)(Ae))(Ct(nu)(jn)(Ou(n)(t))(o.value0.child));if(o instanceof ot)return d(mn)(Pe(k)(Ae))(Ct(dr)(jn)(Ou(n)(t))(o.value0.children));throw new Error("Failed pattern match at Deku.SSR (line 45, column 5 - line 79, column 56): "+[o.constructor.name])})(e)()}}}},ow=function(n){return function(){var r=Lu(n.units)();return Gn()(mb(function(){var a=function(e){return function(o){return xn(No(ul(ar)(gt))(Bo))(yn)(o)(function(i){return ra(nl(ul(ar)(gt))(Dt))(qf(i)([e]))})}};return Vl(No(ul(ar)(gt))(Bo))(C_)(function(e){return function(o){if(o instanceof Qn||o instanceof at||o instanceof ot||o instanceof Nn||o instanceof Vn)return a(e)(o.value0.parent);throw new Error("Failed pattern match at Deku.SSR (line 158, column 21 - line 163, column 48): "+[o.constructor.name])}})(r)}()))}},uw=function(n){return function(){var r=Lu(n.units)();return Hs(mn)(function(){var a=function(e){return function(o){return xn(No(uo)(jn))(yn)(o)(function(i){return b(Bs(gt)(Jo))(xr(Sy(uo))(Na)(At(i)(n.units)))(function(f){if(f instanceof s)return ra(nl(uo)(Na))([new h(i,e)]);if(f instanceof m)return ra(nl(uo)(Na))([]);throw new Error("Failed pattern match at Deku.SSR (line 129, column 9 - line 131, column 28): "+[f.constructor.name])})})}};return Vl(No(uo)(jn))(C_)(function(e){return function(o){if(o instanceof Qn||o instanceof at||o instanceof ot||o instanceof Nn||o instanceof Vn)return a(e)(o.value0.parent);throw new Error("Failed pattern match at Deku.SSR (line 134, column 21 - line 139, column 48): "+[o.constructor.name])}})(r)}())()}},iw=function(n){return function(){var r=d(mn)(Mi(sa))(Lu(n.units))();return sr("ERROR")(ql(function(a){if(a.value1 instanceof Qn)return s.value;if(a.value1 instanceof ot)return s.value;if(a.value1 instanceof at)return s.value;if(a.value1 instanceof Vn)return s.value;if(a.value1 instanceof Nn){if(a.value1.value0.main instanceof Qi)return s.value;if(a.value1.value0.main instanceof Lo){if(a.value1.value0.main.value0.tag==="body")return new m(a.value0);if(Ut)return s.value}throw new Error("Failed pattern match at Deku.SSR (line 110, column 34 - line 114, column 39): "+[a.value1.value0.main.constructor.name])}throw new Error("Failed pattern match at Deku.SSR (line 105, column 24 - line 114, column 39): "+[a.value1.constructor.name])})(r))}},db=function(n){return function(t){var r=function(){var a='data-deku-elt-internal="'+(t.value0+'"'),e=wo(a)(n);return b(pr)(mo(e))(function(o){return b(pr)(Bl(o.tail))(function(i){var f=wo(">")(i);return b(pr)(mo(f))(function(c){return _(Nt)(o.head+(a+(c.head+(">"+(t.value1.value1+Ne(k)(Ae)(">")(c.tail))))))})})})}();return sr(n)(r)}},vb=function(n){var t=function(r){return function(a){var e=r,o=!1,i;function f(c,l){var p=function(D){if(Ut)return l;throw new Error("Failed pattern match at Deku.SSR (line 168, column 1 - line 171, column 17): "+[c.constructor.name,l.constructor.name])},v=mo(c);if(v instanceof m){e=d(ft)(function(D){return new h(D.value0,new h(D.value1.value0,db(D.value1.value1)(v.value0.head)))})(v.value0.tail),a=db(l)(v.value0.head);return}return o=!0,p(!0)}for(;!o;)i=f(e,a);return i}};return function(){var a=iw(n)(),e=ow(n)(),o=uw(n)(),i=Ou(e)(n)(a)(),f=Ct(dr)(jn)(function(c){return function(){var p=Ou(e)(n)(c.value1)();return new h(c.value0,new h(c.value1,p))}})(o)();return t(f)(i)}};var Db=function(n){return function(t){return function(r){return b(n.MonadST5().Monad0().Bind1())(C(n.MonadST5())(function(){var e=Vc(),o=ee(),i=le(mn)(Bt(0))(function(){var f=Kd(Vf)(new Lo({attributes:o,tag:"body"}))(r);return function(c){return f(qD(c))}}())();return A(mn)(er(i)(function(f){return f(e)}))(),vb(e)()}))(function(a){return _(n.MonadST5().Monad0().Applicative0())(t.head+(a+t.tail))})}}};var cw=function(n){return za(n.MonadST5().Monad0().Applicative0())(n.MonadST5())({doLogic:function(t){return function(r){return function(a){return r.sendToPos({id:a,pos:t})}}},ids:function(){var t=Gn();return function(r){return function(a){return a.ids}(t(r))}}(),dynamicElementRemoved:function(t){return function(r){return t.removeChild({id:r.id,scope:r.scope})}},dynamicElementInserted:function(t){return function(r){return t.addChild({child:r.id,parent:r.parent})}},toElt:function(t){return t}})},lw=function(n){return function(){var r=C(fn)(Vc)(),a=le(U)(Ku(0))(BD)(),e=a.ids(),o=b(Jr)(b(Jr)(ea)(aa))($u)();return _n(hn(Zn)(d(U)(h.create)(C(fn)(Vc)))(En(ne(ne(Kr)))))(function(i){return function(){A(U)(C(fn)(mr(!0)(r.hydrating)))();var c=er(Le(k)(J(S))([Gr(ht(fn))(a.makeRoot({id:e,root:CD(i)})),cw(jf)({parent:new m(e),scope:new xe("rootScope"),raiseId:function(l){return function(p){return _(S)(void 0)}}})(a)(n)]))(function(l){return l(r)})();return A(U)(C(fn)(mr(!1)(r.hydrating)))(),new h(r,c)}})(o)()}},yb=function(n){return A(U)(lw(n))};var _w=function(){return w.value}(),gb=function(n){return fc()(n)()(fu({reflectSymbol:function(){return"buttonClicked"}})(cu(lu(n.Always2())(Ru)))(fu({reflectSymbol:function(){return"sliderMoved"}})(cu(lu(n.Always2())(Ru)))(Qf)()())()())(su({reflectSymbol:function(){return"buttonClicked"}})()()(su({reflectSymbol:function(){return"sliderMoved"}})()()(ec)()()()())()()()())(w.value)(function(t){return function(r){return Xn(n)([pb(n)([Hn(n.MonadST5().Monad0())(`Here's an example of SSR in deku.
All of the static bits are rendered as HTML,
and all of the dynamic bits are hydrated on page load.`)]),Or(n)(ol(yt)(Kr)(vu)(R(n.MonadST5().Monad0().Applicative0())(t.buttonClicked)))([Hn(n.MonadST5().Monad0())("Click")]),Xn(n)([ie(n.MonadST5().Monad0())(Y(qn(n.MonadST5().Monad0().Applicative0()))(R(n.MonadST5().Monad0().Applicative0())("Val: 0"))(d(yt)(function(){var a=M(fa)("Val: "),e=$(me);return function(o){return a(e(o))}}())(qa(ht(n.MonadST5()))(N(nr(Zr)(1)))(Y(qn(n.MonadST5().Monad0().Applicative0()))(R(n.MonadST5().Monad0().Applicative0())(void 0))(r.buttonClicked))(-1))))]),Xn(n)([ja(n)(al(n.MonadST5().Monad0().Applicative0())(R(n.MonadST5().Monad0().Applicative0())(t.sliderMoved)))([]),Xn(n)([ie(n.MonadST5().Monad0())(Y(qn(n.MonadST5().Monad0().Applicative0()))(R(n.MonadST5().Monad0().Applicative0())("Val: 50"))(d(yt)(function(){var a=M(fa)("Val: "),e=$(ju);return function(o){return a(e(o))}}())(r.sliderMoved)))])])])}})},Tb=function(n){return function(t){return Zt({reflectType:function(){return`<div>
  <h1>Server-side rendering</h1>

  <h2>When performance matters!</h2>
  <p>
    In web development, it's good practice to send a plain-HTML version of your site over the wire before any JavaScript starts executing. This is called <i>server-side rendering</i>, or SSR, where the server renders HTML in an initial pass before rendering any JavaScript.
  </p>
  <p>
    The most performant form of SSR is pre-rendering HTML and serving them from memory or from a file system. This is Deku's strategy via the following two functions:
  </p>
  <ul>
    <li><code>runSSR</code> generates HTML; and</li>
    <li><code>hydrate</code> generates JavaScript that will hydrate your HTML with anything that's dynamic. Note that this is <i>partial</i> hydration, meaning it will only hydrate the bits that need hydrating. This means that, for example, you can do CSS animations on load without fear of jank when the JavaScript kicks in.</li>
  </ul>

  <p>
    This documentation is generated using SSR, and if you add <code>view-source:</code> before the URL, you'll see the intro page rendered as HTML. If you're reading this documentation on a computer screen, you won't see much of a difference, but if you're reading it on a 3G mobile network, you'll spot the difference immedaitely.
  </p>

  <h2>A motivating example</h2>

  <p>Here is a small application using SSR. We'll split it up into three files:</p>
  <ul>
    <li><code>App.purs</code> has our application logic.</li>
    <li><code>Build.purs</code> creates a <code>.js</code> file, for example <code>make.js</code>, that will render our HTML.</li>
    <li><code>Live.purs</code> uses hydration to add dynamic logic to the website.</li>
  </ul>

  <h3>App</h3>
  <p>Unlike the previous examples that used <code>runInBody</code>, our application code here has an explicit type annotation <code>Nut</code>. The definition of <code>Nut</code> is <code>type Nut = forall s m lock payload. Korok s m => Domable m lock payload</code>, and in larger projects, you may need to write this type out explicitly, for example if you are working with an <code>Array</code> of <code>Domable</code> and need <code>m</code> to be consistant over the <code>Array</code>.</p>
  ~code0~
  <h3>Build</h3>
  <p>This is the code we use to generate our HTML site. The example below creates a small script that logs our HTML to the command line,but we can also call <code>runSSR</code> from a NodeJS server, in which case we wouldn't <code>log</code> the HTML string but rather we would instead send it over the wire as the response to a request.</p>
  ~code1~
  <h3>Live</h3>
  <p><code>Live.purs</code> can be bundled to generate our dynamic JS. The JS will hydrate our elements instead of replacing them, and will only hydrate elements that potentially will interactive content.</p>
  ~code2~

  <h3>Result</h3>

  <p>Here is the resulting code from our static-site generation. It is rendered dynamically in your browser, but in production settings, we'd use NodeJS to render or pre-render this HTML.</p>

  ~codegen~

  <p>And here is what the result looks like after hydration.</p>

  <blockquote> ~result~ </blockquote>

  <h2>Parting shot</h2>
  <p>Thanks for checking out Deku! I had a blast writing it, and I hope you enjoy using it for your projects!</p>
</div>`}})()()(it()(it()(it()(it()(it()(Gt(t.MonadST5().Monad0().Applicative0()))({reflectType:function(){return"result"}})({reflectSymbol:function(){return"result"}})(t))({reflectType:function(){return"codegen"}})({reflectSymbol:function(){return"codegen"}})(t))({reflectType:function(){return"code2"}})({reflectSymbol:function(){return"code2"}})(t))({reflectType:function(){return"code1"}})({reflectSymbol:function(){return"code1"}})(t))({reflectType:function(){return"code0"}})({reflectSymbol:function(){return"code0"}})(t))(t)(_w)({code2:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Live where

import Prelude

import App (app)
import Deku.Toplevel (hydrate)
import Effect (Effect)

main :: Effect Unit
main = hydrate app`)])])),code1:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module Build where

import Prelude

import App (app)
import Deku.Toplevel (Template(..), runSSR)
import Effect (Effect)
import Effect.Console (log)

main :: Effect Unit
main =
  runSSR
    ( Template
        { head: "<!DOCTYPE html><html><head><script src=\\"bundle.js\\" defer><\/script></head>"
        , tail: "</html>"
        }
    )
    app >>= log`)])])),code0:ut(jt(t)([Vt(t)([Hn(t.MonadST5().Monad0())(`module App where

import Prelude

import Control.Alt ((<|>))
import Deku.Control (text, text_)
import Deku.DOM as D
import Deku.Listeners (click_, slider)
import Deku.Core (Nut, vbussed)
import FRP.Event (bang, fold)
import FRP.Event.VBus (V)
import Type.Proxy (Proxy(..))

type UIEvents = V
  ( buttonClicked :: Unit
  , sliderMoved :: Number
  )

app :: Nut
app = vbussed (Proxy :: _ UIEvents) \\push event -> do
  D.div_
    [ D.p_
        [ text_
            """Here's an example of SSR in deku.
All of the static bits are rendered as HTML,
and all of the dynamic bits are hydrated on page load."""
        ]
    , D.button
        (click_ (bang push.buttonClicked))
        [ text_ "Click" ]
    , D.div_
        [ text
            ( bang "Val: 0" <|>
                ( append "Val: " <<< show
                    <$> fold
                      (const (add 1))
                      (bang unit <|> event.buttonClicked)
                      (-1)
                )
            )
        ]
    , D.div_
        [ D.input
            (slider (bang push.sliderMoved))
            []
        , D.div_
            [ text
                ( bang "Val: 50" <|>
                    ( map
                        (append "Val: " <<< show)
                        event.sliderMoved
                    )
                )
            ]
        ]
    ]
`)])])),result:ut(gb(t)),codegen:ut(jt(t)([Vt(t)([ie(t.MonadST5().Monad0())(Mr(function(r){return en(t.MonadST5().Monad0().Bind1().Apply0())(b(t.MonadST5().Monad0().Bind1())(Db(t)({head:'<!DOCTYPE html><html><head><script src="bundle.js" defer><\/script></head>',tail:"</html>"})(gb(Vf)))(r))(_(t.MonadST5().Monad0().Applicative0())(_(t.MonadST5().Monad0().Applicative0())(void 0)))}))])]))})}};var Cb=function(n){return function(t){var r=function(e){if(e instanceof mc)return tb;if(e instanceof bu)return nb;if(e instanceof gu)return VD;if(e instanceof Tu)return _b;if(e instanceof hu)return Gy;if(e instanceof Eu)return zy;if(e instanceof Cu)return sb;if(e instanceof Fu)return Ky;if(e instanceof Mu)return lb;if(e instanceof xu)return Tb;throw new Error("Failed pattern match at Deku.Example.Docs.Scene (line 96, column 3 - line 96, column 25): "+[e.constructor.name])},a=function(e){return function(o){return r(o)({dpage:e,slug:n.slug})(t)}};return du(t)(t.Always2())(function(e){return oe(jr)(function(o){return Y(qn(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0())(n.startsWith))(o)})(function(o){return Xn(t)([Xn(t)(d(ft)(function(i){return wi(t)([lc(t)($t(k)(J(t.MonadST5().Monad0().Applicative0()))(R(t.MonadST5().Monad0().Applicative0()))([G(St)(bt.value)(pt(function(f){return en(Zn)(Kt(f))(e(i.value0))})),G(ev)(Ir.value)("cursor:pointer;"),G(Yt)(Qt.value)(n.slug+i.value1.value1.value0)]))([Hn(t.MonadST5().Monad0())(i.value1.value0)]),Eo(t)(R(t.MonadST5().Monad0().Applicative0())(G(Du)(Ir.value)(function(){return i.value1.value1.value1?"":"display:none;"}())))([Hn(t.MonadST5().Monad0())(" | ")])])})([new h(mc.value,new h("Home",new h("",!0))),new h(bu.value,new h("Hello world",new h("hello/",!0))),new h(gu.value,new h("Component",new h("simple/",!0))),new h(Tu.value,new h("Pursx 1",new h("pursx1/",!0))),new h(hu.value,new h("Events 1",new h("events1/",!0))),new h(Eu.value,new h("Effects",new h("effects/",!0))),new h(Cu.value,new h("Pursx 2",new h("pursx2/",!0))),new h(Fu.value,new h("Events 2",new h("events2/",!0))),new h(Mu.value,new h("Portals",new h("portals/",!0))),new h(xu.value,new h("SSR",new h("ssr/",!1)))])),Xn(t)([oc(t)(a(e))(o)])])})})}};var OY=function(n){return function(){var r=_n(ga(ta("could not ingest options: "+$(ff()()(to({reflectSymbol:function(){return"slug"}})(to({reflectSymbol:function(){return"startsWith"}})(uf)(_r))(_r)))(n))))(_(S))(lv(n.startsWith))();return yb(Cb({slug:n.slug,startsWith:r})(jf))()}};export{OY as main};
